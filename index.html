<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AXIOM ‚Äî –ù–æ–≤–æ—Å—Ç–∏ | –ö–∏–±–µ—Ä—Ä–∞–∑–≤–µ–¥–∫–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg:      #090909;
            --bg2:     #111113;
            --bg3:     #1a1a1c;
            --text:    #e2e2e2;
            --text2:   #888;
            --text3:   rgba(226,226,226,0.08);
            --border:  rgba(226,226,226,0.07);
            --border2: rgba(226,226,226,0.13);
            --white:   #e2e2e2;
            --mono:    'IBM Plex Mono', monospace;
            --display: 'Syne', sans-serif;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: var(--mono);
            overflow-x: hidden;
            cursor: none;
        }

        /* ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        #cur  { position:fixed; width:6px; height:6px; background:var(--white); pointer-events:none; z-index:9999; transform:translate(-50%,-50%); }
        #ring { position:fixed; width:32px; height:32px; border:1px solid rgba(226,226,226,0.4); pointer-events:none; z-index:9998; transform:translate(-50%,-50%); transition:width .2s,height .2s,border-color .2s; }
        body:not(:hover) #cur, body:not(:hover) #ring { opacity:0; }

        /* ‚îÄ‚îÄ SCANLINES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        body::before {
            content:''; position:fixed; inset:0;
            background: repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.07) 2px,rgba(0,0,0,0.07) 3px);
            pointer-events:none; z-index:9990;
        }

        /* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .grid-bg {
            position:fixed; inset:0; z-index:0;
            background-image:
                linear-gradient(var(--border) 1px,transparent 1px),
                linear-gradient(90deg,var(--border) 1px,transparent 1px);
            background-size:60px 60px;
        }

        /* ‚îÄ‚îÄ GLITCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        @keyframes glitch {
            0%,90%,100%  { clip-path:none; transform:none; }
            91% { clip-path:inset(10% 0 78% 0); transform:translate(-3px,0); }
            93% { clip-path:inset(60% 0 18% 0); transform:translate(3px,0); }
            95% { clip-path:none; transform:none; }
        }
        .glitch { position:relative; animation:glitch 8s steps(1) infinite; }
        .glitch::before { content:attr(data-text); position:absolute; inset:0; left:2px; color:transparent; animation:glitch 5s steps(1) infinite reverse; }
        .glitch::after  { content:attr(data-text); position:absolute; inset:0; left:-2px; color:transparent; animation:glitch 6s steps(1) infinite; }

        /* ‚îÄ‚îÄ TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        body { padding-top: 36px; }
        .ticker-bar {
            position:fixed; top:0; left:0; right:0; z-index:500; height:36px;
            background:var(--bg3); border-bottom:1px solid var(--border2);
            display:flex; align-items:center; overflow:hidden;
        }
        .ticker-label {
            flex-shrink:0; background:var(--white); color:var(--bg);
            font-size:9px; font-weight:700; letter-spacing:0.3em;
            padding:0 16px; height:100%; display:flex; align-items:center;
            white-space:nowrap;
        }
        .ticker-track { flex:1; overflow:hidden; display:flex; align-items:center; }
        .ticker-inner { display:flex; flex-shrink:0; animation:ticker 38s linear infinite; }
        .ticker-item  { white-space:nowrap; font-size:9px; font-weight:700; letter-spacing:0.15em; color:var(--text2); flex-shrink:0; }
        @keyframes ticker { from{transform:translateX(0)} to{transform:translateX(-50%)} }

        /* ‚îÄ‚îÄ THEME BTN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .theme-btn {
            position:fixed; top:54px; right:20px; z-index:600;
            width:40px; height:40px; border:1px solid var(--border2);
            background:var(--bg2); color:var(--text2);
            font-size:12px; cursor:none;
            display:flex; align-items:center; justify-content:center; transition:0.25s;
        }
        .theme-btn:hover { background:var(--white); color:var(--bg); border-color:var(--white); }

        /* Light theme */
        html.light {
            --bg:      #f5f5f5;
            --bg2:     #ebebeb;
            --bg3:     #e0e0e0;
            --text:    #141414;
            --text2:   #666;
            --text3:   rgba(20,20,20,0.07);
            --border:  rgba(20,20,20,0.08);
            --border2: rgba(20,20,20,0.15);
            --white:   #141414;
        }

        /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .hero {
            position:relative; z-index:1; min-height:100vh;
            display:grid; grid-template-columns:1fr 1fr;
            border-bottom:1px solid var(--border);
        }
        .hero-left {
            padding:80px 52px; display:flex; flex-direction:column;
            justify-content:center; border-right:1px solid var(--border);
        }
        .hero-right { padding:80px 52px; display:flex; flex-direction:column; justify-content:center; }

        .eyebrow {
            font-size:8px; letter-spacing:0.5em; color:var(--text2); text-transform:uppercase;
            margin-bottom:24px; display:flex; align-items:center; gap:12px;
        }
        .eyebrow::before { content:''; width:18px; height:1px; background:var(--text2); }

        .hero-title {
            font-family:var(--display); font-size:clamp(3.2rem,6.5vw,7rem);
            font-weight:800; line-height:0.88; letter-spacing:-0.03em; margin-bottom:32px;
        }
        .hero-title .sep {
            display:block;
            font-family:var(--mono);
            font-size:clamp(2rem,4vw,4.5rem);
            font-weight:700;
            letter-spacing:-0.02em;
            color:var(--text);
            margin:4px 0;
            line-height:1;
        }

        .hero-desc {
            font-size:11px; line-height:2; color:var(--text2); letter-spacing:0.05em;
            max-width:380px; margin-bottom:40px;
            border-left:1px solid var(--border2); padding-left:18px;
        }

        .btn {
            display:inline-flex; align-items:center; gap:12px;
            padding:13px 26px; border:1px solid var(--border2);
            color:var(--text); text-decoration:none; font-family:var(--mono);
            font-size:9px; font-weight:700; letter-spacing:0.3em; text-transform:uppercase;
            background:transparent; transition:0.25s; cursor:none;
            position:relative; overflow:hidden;
        }
        .btn::before { content:''; position:absolute; inset:0; background:var(--white); transform:translateX(-100%); transition:0.3s; }
        .btn:hover::before { transform:translateX(0); }
        .btn:hover { color:var(--bg); border-color:var(--white); }
        .btn span, .btn i { position:relative; z-index:1; }

        /* ‚îÄ‚îÄ STATUS GRID ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .status-grid {
            display:grid; grid-template-columns:1fr 1fr;
            gap:1px; background:var(--border2); border:1px solid var(--border2);
            margin-bottom:28px;
        }
        .status-cell { background:var(--bg2); padding:16px 18px; }
        .status-label { font-size:8px; letter-spacing:0.35em; color:var(--text2); text-transform:uppercase; margin-bottom:6px; }
        .status-val   { font-family:var(--display); font-size:1.4rem; font-weight:800; }
        @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.3} }
        .blink-val { animation:blink 2s infinite; }

        /* ‚îÄ‚îÄ TERMINAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .terminal {
            border:1px solid var(--border2); background:var(--bg);
            height:380px; display:flex; flex-direction:column; overflow:hidden;
        }
        .term-head {
            padding:9px 14px; border-bottom:1px solid var(--border);
            display:flex; align-items:center; gap:6px; flex-shrink:0;
        }
        .dot { width:7px; height:7px; border-radius:50%; background:var(--border2); }
        .term-title { font-size:8px; letter-spacing:0.2em; color:var(--text2); margin-left:6px; flex:1; }
        .term-clear-btn {
            font-size:8px; letter-spacing:0.1em; color:var(--text2); background:none;
            border:1px solid transparent; outline:none; cursor:none;
            font-family:var(--mono); padding:2px 8px; transition:0.2s;
        }
        .term-clear-btn:hover { border-color:var(--border2); color:var(--text); }
        .term-body {
            flex:1; overflow-y:auto; padding:12px 16px 4px;
            font-size:11px; line-height:1.85; scrollbar-width:thin;
            scrollbar-color: var(--border2) transparent;
        }
        .term-body::-webkit-scrollbar { width:3px; }
        .term-body::-webkit-scrollbar-thumb { background:var(--border2); border-radius:0; }
        .tl { display:flex; gap:10px; margin-bottom:2px; }
        .tl-n { color:var(--text3); flex-shrink:0; font-size:9px; padding-top:2px; min-width:22px; user-select:none; }
        .tl-t { flex:1; word-break:break-word; }
        .dim  { color:var(--text2); }
        .hi   { color:var(--text); }
        .t-ok  { color:var(--text); }
        .t-err { color:#777; }
        .t-cmd { color:var(--text); font-weight:700; }
        .term-input-row {
            display:flex; align-items:center; gap:8px;
            padding:8px 16px 10px; border-top:1px solid var(--border); flex-shrink:0;
        }
        .term-prompt { font-size:11px; color:var(--text2); user-select:none; flex-shrink:0; }
        .term-input {
            flex:1; background:none; border:none; outline:none;
            font-family:var(--mono); font-size:11px; color:var(--text);
            caret-color:var(--text);
        }
        @keyframes cur-blink { 0%,100%{opacity:1} 50%{opacity:0} }
        .cur-blink { animation:cur-blink 1s infinite; }

        /* ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .section { position:relative; z-index:1; }
        .sec-head {
            padding:64px 52px 32px; display:flex;
            justify-content:space-between; align-items:flex-end;
            border-bottom:1px solid var(--border);
        }
        .sec-num { font-size:8px; letter-spacing:0.45em; color:var(--text2); margin-bottom:8px; }
        .sec-title { font-family:var(--display); font-size:2.4rem; font-weight:800; letter-spacing:-0.02em; }

        /* ‚îÄ‚îÄ NEWS CARDS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .news-row {
            display:flex; overflow-x:auto; scrollbar-width:none; scroll-behavior:smooth;
            padding-left:52px; border-top:1px solid var(--border);
        }
        .news-row::-webkit-scrollbar { display:none; }
        .card {
            flex:0 0 340px; border-right:1px solid var(--border);
            padding:36px 36px 32px; min-height:420px;
            display:flex; flex-direction:column; justify-content:space-between;
            background:var(--bg); transition:background 0.25s; position:relative;
        }
        .card::after {
            content:''; position:absolute; bottom:0; left:0; right:0; height:1px;
            background:var(--white); transform:scaleX(0); transition:0.35s; transform-origin:left;
        }
        .card:hover::after { transform:scaleX(1); }
        .card:hover { background:var(--bg2); }
        .card-idx { position:absolute; top:18px; right:18px; font-size:42px; font-family:var(--display); font-weight:800; color:var(--text3); line-height:1; }

        .tag {
            display:inline-flex; align-items:center; gap:6px;
            font-size:8px; font-weight:700; letter-spacing:0.35em; text-transform:uppercase;
            margin-bottom:24px; padding:4px 9px;
            border:1px solid var(--border2); color:var(--text2);
        }
        .tag.urgent { border-color:rgba(226,226,226,0.35); color:var(--text); }
        .tag::before { content:'‚ñ™'; font-size:7px; }

        .card-title { font-family:var(--display); font-size:1.35rem; font-weight:800; line-height:1.15; margin-bottom:14px; }
        .card-desc  { font-size:11px; line-height:1.85; color:var(--text2); flex:1; margin-bottom:24px; }
        .card-link  {
            font-size:9px; font-weight:700; letter-spacing:0.3em; text-transform:uppercase;
            text-decoration:none; color:var(--text2); display:flex; align-items:center; gap:10px;
            cursor:none; transition:color 0.2s;
        }
        .card-link::after { content:'‚Üí'; transition:margin 0.2s; }
        .card-link:hover { color:var(--text); }
        .card-link:hover::after { margin-left:4px; }

        /* ‚îÄ‚îÄ NAV ARROWS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .arrows { display:flex; gap:1px; }
        .arr-btn {
            width:40px; height:40px; border:1px solid var(--border2); background:transparent;
            color:var(--text2); font-size:16px; cursor:none;
            display:flex; align-items:center; justify-content:center; transition:0.2s;
            font-family:var(--mono);
        }
        .arr-btn:hover { background:var(--white); color:var(--bg); border-color:var(--white); }

        /* ‚îÄ‚îÄ MAP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .map-sec {
            position:relative; z-index:1;
            padding:64px 52px; display:grid;
            grid-template-columns:55% 1fr;
            gap:40px; align-items:start;
            border-bottom:1px solid var(--border);
        }
        #world-map {
            width:100%; aspect-ratio:2/1;
            border:1px solid var(--border2); background:var(--bg2);
            position:relative; overflow:hidden; cursor:grab;
        }
        #world-map:active { cursor:grabbing; }
        #world-map svg { display:block; width:100%; height:100%; }

        .map-mode-btn {
            font-family:var(--mono); font-size:9px; font-weight:700;
            letter-spacing:0.15em; text-transform:uppercase;
            padding:6px 14px; border:1px solid var(--border2);
            background:transparent; color:var(--text2); cursor:none; transition:0.2s;
        }
        .map-mode-btn.active,
        .map-mode-btn:hover { background:var(--white); color:var(--bg); border-color:var(--white); }
        .map-ctrl-btn {
            width:30px; height:30px; border:1px solid var(--border2);
            background:transparent; color:var(--text2); cursor:none;
            font-family:var(--mono); font-size:14px; transition:0.2s;
            display:flex; align-items:center; justify-content:center;
        }
        .map-ctrl-btn:hover { background:var(--white); color:var(--bg); border-color:var(--white); }

        /* Russia info panel */
        .ru-info {
            position:absolute; bottom:10px; left:10px; z-index:15;
            background:rgba(9,9,9,0.92); border:1px solid var(--border2);
            padding:12px 16px; font-size:10px; min-width:240px; max-width:300px;
            display:none; backdrop-filter:blur(4px);
        }
        html.light .ru-info { background:rgba(245,245,245,0.95); }
        .ru-info.show { display:block; }
        .ru-info-name { font-family:var(--display); font-weight:800; font-size:1rem; margin-bottom:8px; }
        .ru-info-row  { display:flex; justify-content:space-between; gap:16px; padding:3px 0; border-bottom:1px solid var(--border); font-size:9px; }
        .ru-info-row:last-child { border:none; }
        .ru-info-key { color:var(--text2); }
        .ru-info-val { color:var(--text); text-align:right; }

        .map-tip {
            position:absolute; pointer-events:none;
            background:var(--bg3); border:1px solid var(--border2);
            padding:7px 12px; font-size:9px; color:var(--text2);
            letter-spacing:0.08em; white-space:nowrap; opacity:0;
            transition:opacity 0.12s; z-index:20; line-height:1.6;
        }

        /* ‚îÄ‚îÄ THREAT LOG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .tlog { border:1px solid var(--border2); background:var(--bg); display:flex; flex-direction:column; height:fit-content; max-height:none; }
        .tlog-head { padding:12px 16px; border-bottom:1px solid var(--border); font-size:8px; letter-spacing:0.4em; color:var(--text2); text-transform:uppercase; flex-shrink:0; }
        .tlog-body { overflow-y:auto; flex:1; scrollbar-width:thin; scrollbar-color:var(--border2) transparent; }
        .tlog-body::-webkit-scrollbar { width:3px; }
        .tlog-body::-webkit-scrollbar-thumb { background:var(--border2); }
        .te {
            padding:13px 16px; font-size:10px; border-bottom:1px solid var(--border);
            display:flex; gap:10px; align-items:flex-start;
        }
        .te:last-child { border-bottom:none; }
        .te-time { color:var(--text2); font-size:9px; flex-shrink:0; padding-top:1px; }
        .te-msg  { color:var(--text); flex:1; line-height:1.5; }
        .te-sev  { font-size:8px; padding:2px 6px; flex-shrink:0; font-weight:700; letter-spacing:0.08em; }
        .sev-c { border:1px solid var(--border2); color:var(--text); background:var(--bg3); }
        .sev-h { border:1px solid var(--border);  color:var(--text2); }
        .sev-m { color:var(--text2); opacity:0.5; }

        /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        footer { position:relative; z-index:1; padding:64px 52px; }
        .foot-grid { display:grid; grid-template-columns:2fr 1fr 1fr; gap:64px; margin-bottom:56px; }
        .foot-brand { font-family:var(--display); font-size:2rem; font-weight:800; margin-bottom:14px; }
        .foot-desc { font-size:10px; color:var(--text2); line-height:2; }
        .foot-col-title { font-size:8px; letter-spacing:0.45em; text-transform:uppercase; color:var(--text2); margin-bottom:18px; }
        .foot-link {
            display:block; font-size:10px; color:var(--text2); text-decoration:none;
            letter-spacing:0.08em; padding:8px 0; border-bottom:1px solid var(--border);
            transition:0.2s; cursor:none;
        }
        .foot-link:hover { color:var(--text); padding-left:6px; }
        .foot-bot {
            display:flex; justify-content:space-between; align-items:center;
            padding-top:32px; border-top:1px solid var(--border);
        }
        .foot-bot span { font-size:8px; letter-spacing:0.35em; color:var(--text2); text-transform:uppercase; }

        /* ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        .rv { opacity:0; transform:translateY(20px); transition:0.7s cubic-bezier(0.2,1,0.3,1); }
        .rv.on { opacity:1; transform:none; }

        /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
        @media(max-width:860px){
            .hero { grid-template-columns:1fr; }
            .hero-right { display:none; }
            .hero-left,.sec-head,.map-sec,footer { padding-left:24px; padding-right:24px; }
            .map-sec { grid-template-columns:1fr; }
            .card { flex:0 0 300px; padding:28px; }
            .foot-grid { grid-template-columns:1fr; gap:36px; }
        }
    </style>
</head>
<body>

    <div id="cur"></div>
    <div id="ring"></div>
    <div class="grid-bg"></div>

    <button class="theme-btn" id="themeBtn" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
        <i class="fas fa-sun" id="themeIcon"></i>
    </button>

    <!-- TICKER -->
    <div class="ticker-bar">
        <div class="ticker-label">‚ñ™ LIVE</div>
        <div class="ticker-track">
            <div class="ticker-inner" id="tickerInner"></div>
        </div>
    </div>

    <!-- HERO -->
    <section class="hero">
        <div class="hero-left">
            <div class="eyebrow rv">–†–∞–∑–≤–µ–¥—ã–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä ‚Äî –£–∑–µ–ª 04</div>
            <h1 class="hero-title rv glitch" data-text="AXIOM –ù–û–í–û–°–¢–ò" style="transition-delay:.1s">
                AXIOM<span class="sep">//</span>–ù–û–í–û–°–¢–ò
            </h1>
            <p class="hero-desc rv" style="transition-delay:.2s">
                –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞ –¥–∞–Ω–Ω—ã—Ö.<br>
                –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–≥—Ä–æ–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.<br>
                –ê–Ω–∞–ª–∏–∑ —É—Ç–µ—á–µ–∫ –∏ –∫–∏–±–µ—Ä–∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.
            </p>
            <div class="rv" style="transition-delay:.3s;display:flex;flex-direction:column;gap:12px;align-items:flex-start">
                <a href="https://t.me/axiomlabofficial" target="_blank" class="btn">
                    <i class="fab fa-telegram"></i><span>Telegram-–∫–∞–Ω–∞–ª</span>
                </a>
                <a href="https://t.me/axiomfeedrobot" target="_blank" class="btn">
                    <i class="fas fa-robot"></i><span>–ë–æ—Ç @axiomfeedrobot</span>
                </a>
                <button class="btn" id="openPwdBtn" onclick="openPwd()">
                    <i class="fas fa-shield-alt"></i><span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å</span>
                </button>
                <button class="btn" onclick="openAnon()">
                    <i class="fas fa-user-secret"></i><span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å</span>
                </button>
                <button class="btn" onclick="openLink()">
                    <i class="fas fa-link"></i><span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Å—ã–ª–∫—É</span>
                </button>
            </div>
        </div>

        <div class="hero-right">
            <div class="status-grid rv" style="transition-delay:.2s">
                <div class="status-cell">
                    <div class="status-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —É–≥—Ä–æ–∑</div>
                    <div class="status-val blink-val" id="cnt-threats">247</div>
                </div>
                <div class="status-cell">
                    <div class="status-label">–°—Ç–∞—Ç—É—Å —É–∑–ª–∞</div>
                    <div class="status-val">–û–ù–õ–ê–ô–ù</div>
                </div>
                <div class="status-cell">
                    <div class="status-label">–£—Ç–µ—á–µ–∫ –∑–∞ 24—á</div>
                    <div class="status-val" id="cnt-breaches">18</div>
                </div>
                <div class="status-cell">
                    <div class="status-label">–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <div class="status-val">AES-256</div>
                </div>
            </div>

            <div class="terminal rv" style="transition-delay:.4s">
                <div class="term-head">
                    <div class="dot"></div><div class="dot"></div><div class="dot"></div>
                    <span class="term-title">AXIOM_CORE ‚Äî –ó–ê–©–ò–©–Å–ù–ù–ê–Ø –û–ë–û–õ–û–ß–ö–ê</span>
                    <button class="term-clear-btn" id="termClear">–æ—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
                <div class="term-body" id="termBody"></div>
                <div class="term-input-row">
                    <span class="term-prompt">root@axiom:~$</span>
                    <input class="term-input" id="termInput" type="text" placeholder="–≤–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É..." autocomplete="off" spellcheck="false">
                </div>
            </div>
        </div>
    </section>

    <!-- NEWS -->
    <section class="section">
        <div class="sec-head rv">
            <div>
                <div class="sec-num">// 01</div>
                <h2 class="sec-title">–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞</h2>
            </div>
            <div class="arrows">
                <button class="arr-btn" onclick="scrollNews(-1)">‚Üê</button>
                <button class="arr-btn" onclick="scrollNews(1)">‚Üí</button>
            </div>
        </div>

        <div class="news-row" id="newsRow">
            <article class="card">
                <div class="card-idx">01</div>
                <div>
                    <div class="tag urgent">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—Ç–µ—á–∫–∞</div>
                    <h3 class="card-title">–í–∑–ª–æ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –†–ò–£</h3>
                    <p class="card-desc">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ–ª–µ–µ 10 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—ã—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –≤ Darknet-—Ñ–æ—Ä—É–º–∞—Ö. –£—Ç–µ—á–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç –§–ò–û, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ email-–∞–¥—Ä–µ—Å–∞.</p>
                </div>
                <a href="#" class="card-link">–ß–∏—Ç–∞—Ç—å –æ—Ç—á—ë—Ç</a>
            </article>

            <article class="card">
                <div class="card-idx">02</div>
                <div>
                    <div class="tag">–ò–ò-—É–≥—Ä–æ–∑–∞</div>
                    <h3 class="card-title">Deepfake-—Ñ–∏—à–∏–Ω–≥ 2.0</h3>
                    <p class="card-desc">–ù–æ–≤–∞—è –≤–æ–ª–Ω–∞ –∞—Ç–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ò–ò-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ –¥–ª—è –∫—Ä–∞–∂–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–æ–≤. –°–≤—ã—à–µ 300 –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü.</p>
                </div>
                <a href="#" class="card-link">–ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
            </article>

            <article class="card">
                <div class="card-idx">03</div>
                <div>
                    <div class="tag urgent">–ò–Ω—Ü–∏–¥–µ–Ω—Ç</div>
                    <h3 class="card-title">–ê—Ç–∞–∫–∞ –Ω–∞ –±–∞–Ω–∫–æ–≤—Å–∫–æ–µ –ü–û</h3>
                    <p class="card-desc">–û–±–Ω–∞—Ä—É–∂–µ–Ω –±—ç–∫–¥–æ—Ä –≤ –ø–æ–ø—É–ª—è—Ä–Ω–æ–º –∫–ª–∏—Ä–∏–Ω–≥–æ–≤–æ–º –ü–û. –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –°–ù–ì. –ö–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–∞ —Å 2024 –≥–æ–¥–∞.</p>
                </div>
                <a href="#" class="card-link">–î–µ—Ç–∞–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏</a>
            </article>

            <article class="card">
                <div class="card-idx">04</div>
                <div>
                    <div class="tag">–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <h3 class="card-title">Quantum Shield v2</h3>
                    <p class="card-desc">AXIOM –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∑–∞—â–∏—Ç—ã, —É—Å—Ç–æ–π—á–∏–≤—ã–π –∫ –∫–≤–∞–Ω—Ç–æ–≤—ã–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.</p>
                </div>
                <a href="#" class="card-link">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏</a>
            </article>

            <article class="card">
                <div class="card-idx">05</div>
                <div>
                    <div class="tag urgent">Zero-Day</div>
                    <h3 class="card-title">CVE-2026-0x9F: RCE –≤ —è–¥—Ä–µ</h3>
                    <p class="card-desc">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ —è–¥—Ä–µ Linux 6.x ‚Äî —É–¥–∞–ª—ë–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü–∞—Ç—á –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 48 —á–∞—Å–æ–≤.</p>
                </div>
                <a href="#" class="card-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ CVE</a>
            </article>
        </div>
    </section>

    <!-- MAP -->
    <section class="map-sec">
        <div>
            <div class="sec-num rv" style="margin-bottom:8px">// 02</div>
            <h2 class="sec-title rv" style="margin-bottom:16px">–ö–∞—Ä—Ç–∞ —É–≥—Ä–æ–∑</h2>

            <!-- Map controls -->
            <div class="rv map-controls" style="margin-bottom:14px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                <button class="map-mode-btn active" id="btnWorld" onclick="setMapMode('world')">üåç –ú–∏—Ä</button>
                <button class="map-mode-btn" id="btnRussia" onclick="setMapMode('russia')">üá∑üá∫ –†–æ—Å—Å–∏—è</button>
                <div style="flex:1"></div>
                <button class="map-ctrl-btn" id="btnZoomIn"  onclick="mapZoom(1.4)" title="–£–≤–µ–ª–∏—á–∏—Ç—å">+</button>
                <button class="map-ctrl-btn" id="btnZoomOut" onclick="mapZoom(0.7)" title="–£–º–µ–Ω—å—à–∏—Ç—å">‚àí</button>
                <button class="map-ctrl-btn" onclick="mapReset()" title="–°–±—Ä–æ—Å">‚åÇ</button>
            </div>

            <div id="world-map" class="rv">
                <div class="map-tip" id="mapTip"></div>
            </div>
        </div>

        <div class="tlog rv">
            <div class="tlog-head">// –õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π</div>
            <div class="tlog-body" id="tlogBody"></div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="foot-grid">
            <div class="rv">
                <div class="foot-brand">AXIOM // –ù–û–í–û–°–¢–ò</div>
                <p class="foot-desc">
                    –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª —Ä–∞–∑–≤–µ–¥–∫–∏.<br>
                    –î–æ—Å—Ç—É–ø –∫ —Å–∞–º—ã–º –∑–∞–∫—Ä—ã—Ç—ã–º –¥–∞–Ω–Ω—ã–º –∫–∏–±–µ—Ä–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.<br>
                    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥. –ê–Ω–∞–ª–∏–∑. –ó–∞—â–∏—Ç–∞.
                </p>
            </div>
            <div class="rv" style="transition-delay:.1s">
                <div class="foot-col-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
                <a href="#" class="foot-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="#" class="foot-link">–ë–∞–∑–∞ —É—Ç–µ—á–µ–∫</a>
                <a href="#" class="foot-link">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
                <a href="#" class="foot-link">–£—Å–ª—É–≥–∏</a>
            </div>
            <div class="rv" style="transition-delay:.2s">
                <div class="foot-col-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                <a href="https://t.me/axiomlabofficial" target="_blank" class="foot-link">Telegram-–∫–∞–Ω–∞–ª</a>
                <a href="https://t.me/axiomfeedrobot" target="_blank" class="foot-link">–ë–æ—Ç @axiomfeedrobot</a>
                <a href="#" class="foot-link">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
            </div>
        </div>
        <div class="foot-bot">
            <span>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã: –û–Ω–ª–∞–π–Ω</span>
            <span>¬© 2026 Axiom Intelligence Network</span>
            <span>–ü—Ä–æ—Ç–æ–∫–æ–ª: AES-256</span>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>
    <script>
    /* ‚îÄ‚îÄ TICKER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function() {
        const WORDS = [
            '–£–ó–ï–õ_04: –ê–ö–¢–ò–í–ï–ù', '–ö–ê–ù–ê–õ: –ó–ê–©–ò–©–Å–ù', '–£–¢–ï–ß–ö–ê: RIU_DB',
            '–ú–û–ù–ò–¢–û–†–ò–ù–ì: –í–ö–õ', '–£–†–û–í–ï–ù–¨_–£–ì–†–û–ó: –í–´–°–û–ö–ò–ô', 'AXIOM // 2026',
            '–®–ò–§–†–û–í–ê–ù–ò–ï: AES-256', '–£–ó–ï–õ_0F: –ê–ö–¢–ò–í–ï–ù', '–°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï: –í–ö–õ',
        ];
        const container = document.getElementById('tickerInner');
        // Build one long string repeated twice (for seamless -50% loop)
        const makeSet = () => WORDS.map(w => {
            const span = document.createElement('span');
            span.className = 'ticker-item';
            span.textContent = '// ' + w + ' ';
            return span;
        });
        [...makeSet(), ...makeSet()].forEach(el => container.appendChild(el));
    })();

    /* ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    const cur  = document.getElementById('cur');
    const ring = document.getElementById('ring');
    let mx=window.innerWidth/2, my=window.innerHeight/2;
    let rx=mx, ry=my;

    document.addEventListener('mousemove', e => {
        mx = e.clientX; my = e.clientY;
        cur.style.left  = mx + 'px';
        cur.style.top   = my + 'px';
    });

    (function animRing(){
        rx += (mx - rx) * 0.13;
        ry += (my - ry) * 0.13;
        ring.style.left = rx + 'px';
        ring.style.top  = ry + 'px';
        requestAnimationFrame(animRing);
    })();

    document.querySelectorAll('a, button').forEach(el => {
        el.addEventListener('mouseenter', () => {
            ring.style.width  = '48px';
            ring.style.height = '48px';
            ring.style.borderColor = 'rgba(226,226,226,0.7)';
        });
        el.addEventListener('mouseleave', () => {
            ring.style.width  = '32px';
            ring.style.height = '32px';
            ring.style.borderColor = 'rgba(226,226,226,0.4)';
        });
    });

    /* ‚îÄ‚îÄ THEME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    let isLight = false;
    document.getElementById('themeBtn').addEventListener('click', () => {
        isLight = !isLight;
        document.documentElement.classList.toggle('light', isLight);
        document.getElementById('themeIcon').className = isLight ? 'fas fa-moon' : 'fas fa-sun';
        drawMap();
    });

    /* ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    const ro = new IntersectionObserver(es => {
        es.forEach(e => { if (e.isIntersecting) e.target.classList.add('on'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.rv').forEach(el => ro.observe(el));

    /* ‚îÄ‚îÄ NEWS SCROLL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function scrollNews(dir) {
        document.getElementById('newsRow').scrollBy({ left: dir * 400, behavior: 'smooth' });
    }

    /* ‚îÄ‚îÄ TERMINAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    (function() {
        const body    = document.getElementById('termBody');
        const input   = document.getElementById('termInput');
        const clearBtn= document.getElementById('termClear');
        let lineCount = 0;
        let history   = [];
        let histIdx   = -1;

        const COMMANDS = {
            '–ø–æ–º–æ—â—å': cmdHelp, 'help': cmdHelp,
            '—Å—Ç–∞—Ç—É—Å': cmdStatus, 'status': cmdStatus,
            '—É–∑–ª—ã': cmdNodes, 'nodes': cmdNodes,
            '—É–≥—Ä–æ–∑—ã': cmdThreats, 'threats': cmdThreats,
            '—É—Ç–µ—á–∫–∏': cmdBreaches, 'breaches': cmdBreaches,
            '—Å–∫–∞–Ω': cmdScan, 'scan': cmdScan,
            'ping': cmdPing,
            '–≤–µ—Ä—Å–∏—è': cmdVersion, 'version': cmdVersion,
            '–æ—á–∏—Å—Ç–∏—Ç—å': () => { body.innerHTML = ''; lineCount = 0; },
            'clear': () => { body.innerHTML = ''; lineCount = 0; },
            'whoami': () => print('root ‚Äî AXIOM Intelligence Network', 'hi'),
            '–¥–∞—Ç–∞': cmdDate, 'date': cmdDate, '–≤—Ä–µ–º—è': cmdDate, 'time': cmdDate,
            '–∫–∞–Ω–∞–ª': cmdChannel, 'channel': cmdChannel,
            '–±–æ—Ç': cmdBot, 'bot': cmdBot, '–ø—Ä–µ–¥–ª–æ–∂–∫–∞': cmdBot,
        };

        function print(text, cls='dim', noNum=false) {
            const row = document.createElement('div');
            row.className = 'tl';
            if (!noNum) {
                lineCount++;
                const n = document.createElement('span');
                n.className = 'tl-n';
                n.textContent = String(lineCount).padStart(2,'0');
                row.appendChild(n);
            } else {
                const n = document.createElement('span');
                n.className = 'tl-n';
                n.textContent = '  ';
                row.appendChild(n);
            }
            const t = document.createElement('span');
            t.className = `tl-t ${cls}`;
            t.innerHTML = text;
            row.appendChild(t);
            body.appendChild(row);
            body.scrollTop = body.scrollHeight;
        }

        function printCmd(cmd) {
            lineCount++;
            const row = document.createElement('div'); row.className = 'tl';
            const n = document.createElement('span'); n.className = 'tl-n'; n.textContent = String(lineCount).padStart(2,'0');
            const t = document.createElement('span'); t.className = 'tl-t';
            t.innerHTML = `<span style="color:var(--text2)">$</span> <span class="t-cmd">${cmd}</span>`;
            row.appendChild(n); row.appendChild(t);
            body.appendChild(row);
            body.scrollTop = body.scrollHeight;
        }

        function gap() { print('', 'dim', true); }

        function printLines(lines, delay=40) {
            lines.forEach((l, i) => setTimeout(() => print(l.t, l.c || 'dim'), i * delay));
        }

        // Boot sequence
        const BOOT = [
            { t: '[–°–ò–°]  –ó–∞–≥—Ä—É–∑–∫–∞ AXIOM_CORE v4.0...', c:'dim' },
            { t: '[OK]   –Ø–¥—Ä–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ‚Äî —Å–±–æ—Ä–∫–∞ 2026.02', c:'dim' },
            { t: '[–°–ï–¢]  –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —É–∑–ª–æ–º 0x21: –£–°–ü–ï–•', c:'dim' },
            { t: '[–°–ï–¢]  –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —É–∑–ª–æ–º 0x0F: –£–°–ü–ï–•', c:'dim' },
            { t: '[!!!]  –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É—Ç–µ—á–∫–∞: RIU_DB (10.2–ú –∑–∞–ø–∏—Å–µ–π)', c:'hi' },
            { t: '[OK]   Quantum Shield: –ê–ö–¢–ò–í–ï–ù', c:'dim' },
            { t: '[–°–ò–°]  –í—Å–µ —É–∑–ª—ã –≤ –Ω–æ—Ä–º–µ. –í–≤–µ–¥–∏—Ç–µ <b>–ø–æ–º–æ—â—å</b> –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.', c:'dim' },
        ];
        BOOT.forEach((l, i) => setTimeout(() => print(l.t, l.c), i * 380));

        function cmdHelp() {
            gap();
            print('–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:', 'hi');
            [
                ['–ø–æ–º–æ—â—å', '—Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥'],
                ['–≤—Ä–µ–º—è', '—Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –∏ –¥–∞—Ç–∞'],
                ['—Å—Ç–∞—Ç—É—Å', '—Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã'],
                ['—É–∑–ª—ã', '—Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∑–ª–æ–≤'],
                ['—É–≥—Ä–æ–∑—ã', '—Ç–µ–∫—É—â–∏–µ —É–≥—Ä–æ–∑—ã'],
                ['—É—Ç–µ—á–∫–∏', '–ø–æ—Å–ª–µ–¥–Ω–∏–µ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö'],
                ['—Å–∫–∞–Ω &lt;ip&gt;', '—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å'],
                ['ping &lt;—Ö–æ—Å—Ç&gt;', '–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ'],
                ['–∫–∞–Ω–∞–ª', 'Telegram-–∫–∞–Ω–∞–ª AXIOM'],
                ['–ø—Ä–µ–¥–ª–æ–∂–∫–∞', '–±–æ—Ç –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π'],
                ['–≤–µ—Ä—Å–∏—è', '–≤–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã'],
                ['whoami', '—Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'],
                ['–æ—á–∏—Å—Ç–∏—Ç—å', '–æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª'],
            ].forEach(([cmd, desc]) => {
                print(`  <span style="color:var(--text);min-width:140px;display:inline-block">${cmd}</span><span style="color:var(--text2)">‚Äî ${desc}</span>`, 'dim');
            });
            gap();
        }

        function cmdDate() {
            const now = new Date();
            const days = ['–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ','–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫','–≤—Ç–æ—Ä–Ω–∏–∫','—Å—Ä–µ–¥–∞','—á–µ—Ç–≤–µ—Ä–≥','–ø—è—Ç–Ω–∏—Ü–∞','—Å—É–±–±–æ—Ç–∞'];
            const months = ['—è–Ω–≤–∞—Ä—è','—Ñ–µ–≤—Ä–∞–ª—è','–º–∞—Ä—Ç–∞','–∞–ø—Ä–µ–ª—è','–º–∞—è','–∏—é–Ω—è','–∏—é–ª—è','–∞–≤–≥—É—Å—Ç–∞','—Å–µ–Ω—Ç—è–±—Ä—è','–æ–∫—Ç—è–±—Ä—è','–Ω–æ—è–±—Ä—è','–¥–µ–∫–∞–±—Ä—è'];
            const pad = n => String(n).padStart(2,'0');
            gap();
            print('–¢–ï–ö–£–©–ï–ï –í–†–ï–ú–Ø', 'hi');
            print(`  –í—Ä–µ–º—è    : <span style="color:var(--text)">${pad(now.getHours())}:${pad(now.getMinutes())}:${pad(now.getSeconds())}</span>`, 'dim');
            print(`  –î–∞—Ç–∞     : <span style="color:var(--text)">${now.getDate()} ${months[now.getMonth()]} ${now.getFullYear()} –≥.</span>`, 'dim');
            print(`  –î–µ–Ω—å     : <span style="color:var(--text)">${days[now.getDay()]}</span>`, 'dim');
            print(`  –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å : <span style="color:var(--text)">${Intl.DateTimeFormat().resolvedOptions().timeZone}</span>`, 'dim');
            gap();
        }

        function cmdChannel() {
            gap();
            print('TELEGRAM-–ö–ê–ù–ê–õ AXIOM', 'hi');
            print('  –ù–∞–∑–≤–∞–Ω–∏–µ  : <span style="color:var(--text)">AXIOM // –ù–û–í–û–°–¢–ò</span>', 'dim');
            print('  –°—Å—ã–ª–∫–∞    : <span style="color:var(--text)">t.me/axiomlabofficial</span>', 'dim');
            print('  –û–ø–∏—Å–∞–Ω–∏–µ  : —Ä–∞–∑–≤–µ–¥–∫–∞, —É—Ç–µ—á–∫–∏, –∫–∏–±–µ—Ä–∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã', 'dim');
            print('', 'dim');
            print('  <a href="https://t.me/axiomlabofficial" target="_blank" style="color:var(--text);text-decoration:underline;text-underline-offset:3px">‚Üí –û—Ç–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª</a>', 'dim');
            gap();
        }

        function cmdBot() {
            gap();
            print('TELEGRAM-–ë–û–¢ / –ü–†–ï–î–õ–û–ñ–ö–ê', 'hi');
            print('  –ë–æ—Ç       : <span style="color:var(--text)">@axiomfeedrobot</span>', 'dim');
            print('  –°—Å—ã–ª–∫–∞    : <span style="color:var(--text)">t.me/axiomfeedrobot</span>', 'dim');
            print('  –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ —É—Ç–µ—á–∫—É', 'dim');
            print('', 'dim');
            print('  <a href="https://t.me/axiomfeedrobot" target="_blank" style="color:var(--text);text-decoration:underline;text-underline-offset:3px">‚Üí –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞</a>', 'dim');
            gap();
        }

        function cmdStatus() {
            gap();
            print('–°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´', 'hi');
            print('  –°—Ç–∞—Ç—É—Å —É–∑–ª–∞    : <span style="color:var(--text)">–û–ù–õ–ê–ô–ù</span>', 'dim');
            print('  –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ     : <span style="color:var(--text)">AES-256 / –ê–ö–¢–ò–í–ù–û</span>', 'dim');
            print('  Quantum Shield : <span style="color:var(--text)">v2.1 –†–ê–ó–í–Å–†–ù–£–¢</span>', 'dim');
            print(`  –ê–∫—Ç–∏–≤–Ω—ã—Ö —É–≥—Ä–æ–∑ : <span style="color:var(--text)">${240 + Math.floor(Math.random()*20)}</span>`, 'dim');
            print(`  –£—Ç–µ—á–µ–∫ –∑–∞ 24—á  : <span style="color:var(--text)">${15 + Math.floor(Math.random()*8)}</span>`, 'dim');
            print(`  –ê–ø—Ç–∞–π–º         : <span style="color:var(--text)">47–¥ 13—á 22–º</span>`, 'dim');
            gap();
        }

        function cmdNodes() {
            gap();
            print('–ê–ö–¢–ò–í–ù–´–ï –£–ó–õ–´', 'hi');
            [
                ['0x21', '192.168.1.21', '–ú–æ—Å–∫–≤–∞,  RU', '–û–ù–õ–ê–ô–ù', '12–º—Å'],
                ['0x0F', '10.0.0.15',    '–ë–µ—Ä–ª–∏–Ω,  DE', '–û–ù–õ–ê–ô–ù', '34–º—Å'],
                ['0x33', '172.16.0.51',  '–°–∏–Ω–≥–∞–ø—É—Ä,SG', '–û–ù–õ–ê–ô–ù', '87–º—Å'],
                ['0x07', '10.10.1.7',    '–ù—å—é-–ô–æ—Ä–∫,US', '–û–ù–õ–ê–ô–ù', '110–º—Å'],
                ['0xA2', '192.168.9.2',  '–î—É–±–∞–π,   AE', '–û–ù–õ–ê–ô–ù', '55–º—Å'],
            ].forEach(([id, ip, loc, st, lat]) => {
                print(`  <span style="color:var(--text)">${id}</span>  ${ip}  ${loc}  <span style="color:var(--text)">${st}</span>  [${lat}]`, 'dim');
            });
            gap();
        }

        function cmdThreats() {
            gap();
            print('–ê–ö–¢–ò–í–ù–´–ï –£–ì–†–û–ó–´', 'hi');
            [
                ['–ö–†–ò–¢', 'SSH –±—Ä—É—Ç—Ñ–æ—Ä—Å ‚Äî CN ‚Üí RU', '02:14:33'],
                ['–í–´–°–ö', '–ü–æ–ø—ã—Ç–∫–∞ —ç–∫—Å—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞', '02:13:57'],
                ['–í–´–°–ö', '–ú–∞—è–∫ –≤—Ä–µ–¥–æ–Ω–æ—Å–∞ ‚Äî 45.77.x.x', '02:12:10'],
                ['–ö–†–ò–¢', 'Zero-day –∑–æ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî CVE –æ–∂–∏–¥–∞–µ—Ç—Å—è', '02:08:55'],
                ['–í–´–°–ö', 'DDoS 47 –ì–±–∏—Ç/—Å ‚Äî –ø–æ–≥–ª–æ—â—ë–Ω CDN', '02:10:09'],
            ].forEach(([sev, msg, time]) => {
                const col = sev === '–ö–†–ò–¢' ? 'color:var(--text)' : 'color:var(--text2)';
                print(`  <span style="${col}">[${sev}]</span> ${msg} <span style="color:var(--text2);font-size:9px">${time}</span>`, 'dim');
            });
            gap();
        }

        function cmdBreaches() {
            gap();
            print('–ü–û–°–õ–ï–î–ù–ò–ï –£–¢–ï–ß–ö–ò –î–ê–ù–ù–´–•', 'hi');
            [
                ['RIU_DB', '10.2–ú –∑–∞–ø–∏—Å–µ–π', '–ö–†–ò–¢–ò–ß–ù–û', '2026-02-21'],
                ['Darknet-–ª–∏—Å—Ç–∏–Ω–≥ #447', '800–ö —Å—Ç—Ä–æ–∫', '–í–´–°–û–ö–ò–ô', '2026-02-20'],
                ['BankSoft ClearCore', '–±—ç–∫–¥–æ—Ä –æ–±–Ω–∞—Ä—É–∂–µ–Ω', '–í–´–°–û–ö–ò–ô', '2026-02-18'],
                ['TelecomAPI —É—Ç–µ—á–∫–∞', '2.1–ú —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤', '–°–†–ï–î–ù–ò–ô', '2026-02-15'],
            ].forEach(([src, size, sev, date]) => {
                print(`  <span style="color:var(--text)">${src}</span> ‚Äî ${size} ‚Äî ${sev} <span style="color:var(--text2)">(${date})</span>`, 'dim');
            });
            gap();
        }

        function cmdScan(args) {
            const target = args || '0.0.0.0';
            gap();
            print(`–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–∏: <span style="color:var(--text)">${target}</span>`, 'dim');
            const steps = [
                `  [1/4] –ü–∏–Ω–≥ —Ö–æ—Å—Ç–∞...`,
                `  [2/4] –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤...`,
                `  [3/4] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤...`,
                `  [4/4] –ê–Ω–∞–ª–∏–∑ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π...`,
            ];
            steps.forEach((s, i) => setTimeout(() => {
                print(s, 'dim');
                if (i === steps.length - 1) setTimeout(() => {
                    const ports = [22, 80, 443, 8080, 3306].filter(() => Math.random() > 0.4);
                    print(`  –û—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤: <span style="color:var(--text)">${ports.join(', ') || '–Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ'}</span>`, 'dim');
                    const risk = ['–ù–ò–ó–ö–ò–ô','–°–†–ï–î–ù–ò–ô','–í–´–°–û–ö–ò–ô'][Math.floor(Math.random()*3)];
                    print(`  –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞: <span style="color:var(--text)">${risk}</span>`, 'dim');
                    gap();
                }, 300);
            }, i * 400));
        }

        function cmdPing(args) {
            const host = args || 'axiom.core';
            gap();
            print(`PING ${host}`, 'dim');
            let count = 0;
            const iv = setInterval(() => {
                const ms = 10 + Math.floor(Math.random() * 80);
                print(`  64 bytes –æ—Ç ${host}: –≤—Ä–µ–º—è=${ms}–º—Å`, 'dim');
                count++;
                if (count >= 4) {
                    clearInterval(iv);
                    print(`  4 –ø–∞–∫–µ—Ç–∞: –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ 4, –ø–æ–ª—É—á–µ–Ω–æ 4, –ø–æ—Ç–µ—Ä–∏ 0%`, 'dim');
                    gap();
                }
            }, 350);
        }

        function cmdVersion() {
            gap();
            print('AXIOM_CORE v4.0 ‚Äî build 2026.02.22', 'hi');
            print('  –Ø–¥—Ä–æ        : Linux 6.7.2-axiom', 'dim');
            print('  –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ  : AES-256-GCM + Quantum Shield v2', 'dim');
            print('  –ü—Ä–æ—Ç–æ–∫–æ–ª—ã   : TLS 1.3 / WireGuard', 'dim');
            print('  –õ–∏—Ü–µ–Ω–∑–∏—è    : AXIOM Intelligence Network ¬© 2026', 'dim');
            gap();
        }

        function runCmd(raw) {
            const trimmed = raw.trim();
            if (!trimmed) return;

            history.unshift(trimmed);
            histIdx = -1;
            printCmd(trimmed);

            const parts = trimmed.toLowerCase().split(/\s+/);
            const cmd   = parts[0];
            const args  = parts.slice(1).join(' ');

            if (COMMANDS[cmd]) {
                COMMANDS[cmd](args || null);
            } else {
                print(`–ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: <span style="color:var(--text)">${cmd}</span>. –í–≤–µ–¥–∏—Ç–µ <b>–ø–æ–º–æ—â—å</b>.`, 'dim');
            }
        }

        // Input handlers
        input.addEventListener('keydown', e => {
            if (e.key === 'Enter') {
                const val = input.value;
                input.value = '';
                runCmd(val);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (histIdx < history.length - 1) { histIdx++; input.value = history[histIdx]; }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (histIdx > 0) { histIdx--; input.value = history[histIdx]; }
                else { histIdx = -1; input.value = ''; }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                const partial = input.value.toLowerCase();
                const matches = Object.keys(COMMANDS).filter(c => c.startsWith(partial));
                if (matches.length === 1) input.value = matches[0];
                else if (matches.length > 1) { printCmd(input.value); print(matches.join('  '), 'dim'); }
            }
        });

        clearBtn.addEventListener('click', () => { body.innerHTML = ''; lineCount = 0; input.focus(); });
        document.getElementById('termBody').addEventListener('click', () => input.focus());

        // Click on terminal focusses input
        document.querySelector('.terminal').addEventListener('click', () => input.focus());
    })();

    /* ‚îÄ‚îÄ THREAT LOG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    const THREATS = [
        { time:'02:14:33', msg:'SSH –±—Ä—É—Ç—Ñ–æ—Ä—Å ‚Äî CN ‚Üí RU', sev:'–ö–†–ò–¢' },
        { time:'02:13:57', msg:'–ü–æ–ø—ã—Ç–∫–∞ —ç–∫—Å—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞', sev:'–í–´–°–ö' },
        { time:'02:12:10', msg:'–ú–∞—è–∫ –≤—Ä–µ–¥–æ–Ω–æ—Å–∞ ‚Äî 45.77.x.x', sev:'–í–´–°–ö' },
        { time:'02:11:44', msg:'–§–∏—à–∏–Ω–≥–æ–≤—ã–π –∫–∏—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç ‚Äî UA', sev:'–°–†–î' },
        { time:'02:10:09', msg:'DDoS 47 –ì–±–∏—Ç/—Å ‚Äî –ø–æ–≥–ª–æ—â—ë–Ω CDN', sev:'–í–´–°–ö' },
        { time:'02:09:22', msg:'–õ–∏—Å—Ç–∏–Ω–≥ –≤ Darknet: 800–ö —Å—Ç—Ä–æ–∫', sev:'–ö–†–ò–¢' },
        { time:'02:08:55', msg:'–ó–æ–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ zero-day ‚Äî CVE –æ–∂–∏–¥–∞–µ—Ç—Å—è', sev:'–ö–†–ò–¢' },
        { time:'02:07:30', msg:'–ü–æ–¥–±–æ—Ä —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: 12–ö –∑–∞–ø/—Å', sev:'–°–†–î' },
        { time:'02:06:14', msg:'–£—Ç–µ—á–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ API ‚Äî GitHub', sev:'–ö–†–ò–¢' },
        { time:'02:05:03', msg:'–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤ ‚Äî 198.51.x.x', sev:'–°–†–î' },
        { time:'02:03:48', msg:'–í—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π DNS-–∑–∞–ø—Ä–æ—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω', sev:'–°–†–î' },
        { time:'02:02:21', msg:'Trojan.GenericKD –æ–±–Ω–∞—Ä—É–∂–µ–Ω ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω', sev:'–í–´–°–ö' },
        { time:'02:01:09', msg:'–û–±—Ö–æ–¥ 2FA ‚Äî 340 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 1 –º–∏–Ω', sev:'–í–´–°–ö' },
        { time:'01:59:55', msg:'SQL-–∏–Ω—ä–µ–∫—Ü–∏—è ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ DE', sev:'–ö–†–ò–¢' },
        { time:'01:58:33', msg:'ARP-—Å–ø—É—Ñ–∏–Ω–≥ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏', sev:'–°–†–î' },
        { time:'01:57:11', msg:'–ù–æ–≤—ã–π C2-—Å–µ—Ä–≤–µ—Ä: 91.108.x.x', sev:'–ö–†–ò–¢' },
    ];
    const sevCls = { '–ö–†–ò–¢':'sev-c', '–í–´–°–ö':'sev-h', '–°–†–î':'sev-m' };
    const logBody = document.getElementById('tlogBody');
    THREATS.forEach(t => {
        const div = document.createElement('div'); div.className = 'te';
        div.innerHTML = `<span class="te-time">${t.time}</span><span class="te-msg">${t.msg}</span><span class="te-sev ${sevCls[t.sev]}">${t.sev}</span>`;
        logBody.appendChild(div);
    });

    /* ‚îÄ‚îÄ COUNTERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function liveCnt(el, base, rng) {
        setInterval(() => { el.textContent = base + Math.floor(Math.random() * rng); }, 3800);
    }
    liveCnt(document.getElementById('cnt-threats'),  240, 20);
    liveCnt(document.getElementById('cnt-breaches'),  15,  8);

    /* ‚îÄ‚îÄ WORLD MAP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    const SPOTS = [
        [37.6,  55.7,  '–ú–æ—Å–∫–≤–∞',         '–ö–†–ò–¢'],
        [116.4, 39.9,  '–ü–µ–∫–∏–Ω',          '–ö–†–ò–¢'],
        [-74.0, 40.7,  '–ù—å—é-–ô–æ—Ä–∫',       '–í–´–°–ö'],
        [30.5,  50.4,  '–ö–∏–µ–≤',           '–ö–†–ò–¢'],
        [13.4,  52.5,  '–ë–µ—Ä–ª–∏–Ω',         '–í–´–°–ö'],
        [103.8, 1.3,   '–°–∏–Ω–≥–∞–ø—É—Ä',       '–°–†–î'],
        [-43.2,-22.9,  '–†–∏–æ',            '–°–†–î'],
        [55.3,  25.2,  '–î—É–±–∞–π',          '–í–´–°–ö'],
        [2.3,   48.9,  '–ü–∞—Ä–∏–∂',          '–°–†–î'],
        [139.7, 35.7,  '–¢–æ–∫–∏–æ',          '–í–´–°–ö'],
        [-0.1,  51.5,  '–õ–æ–Ω–¥–æ–Ω',         '–í–´–°–ö'],
    ];

    // Russia regions data with ISP info
    const RU_REGIONS = {
        '–ú–æ—Å–∫–≤–∞':              { isp:'–ú–¢–° / –ë–∏–ª–∞–π–Ω', speed:'500+ –ú–±–∏—Ç/—Å', coverage:'99%', city:'–ú–æ—Å–∫–≤–∞' },
        '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥':    { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°', speed:'300+ –ú–±–∏—Ç/—Å', coverage:'98%', city:'–°–ü–±' },
        '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è':      { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'200 –ú–±–∏—Ç/—Å', coverage:'85%', city:'–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫' },
        '–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è':       { isp:'–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥-2000', speed:'300 –ú–±–∏—Ç/—Å', coverage:'88%', city:'–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥' },
        '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π':      { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –Æ–¢–ö', speed:'200 –ú–±–∏—Ç/—Å', coverage:'82%', city:'–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä' },
        '–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω':          { isp:'–¢–∞—Ç—Ç–µ–ª–µ–∫–æ–º', speed:'200 –ú–±–∏—Ç/—Å', coverage:'87%', city:'–ö–∞–∑–∞–Ω—å' },
        '–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π':       { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'60%', city:'–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫' },
        '–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π':         { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°', speed:'150 –ú–±–∏—Ç/—Å', coverage:'72%', city:'–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫' },
        '–ò—Ä–∫—É—Ç—Å–∫–∞—è':          { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'65%', city:'–ò—Ä–∫—É—Ç—Å–∫' },
        '–†–æ—Å—Ç–æ–≤—Å–∫–∞—è':         { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –î–æ–º.ru', speed:'200 –ú–±–∏—Ç/—Å', coverage:'84%', city:'–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É' },
        '–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è':      { isp:'–ú–¢–° / –≠–†-–¢–µ–ª–µ–∫–æ–º', speed:'200 –ú–±–∏—Ç/—Å', coverage:'86%', city:'–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥' },
        '–°–∞–º–∞—Ä—Å–∫–∞—è':          { isp:'–ú–¢–° / –≠–†-–¢–µ–ª–µ–∫–æ–º', speed:'200 –ú–±–∏—Ç/—Å', coverage:'85%', city:'–°–∞–º–∞—Ä–∞' },
        '–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è':        { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'150 –ú–±–∏—Ç/—Å', coverage:'80%', city:'–í–æ—Ä–æ–Ω–µ–∂' },
        '–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è':      { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'75%', city:'–í–æ–ª–≥–æ–≥—Ä–∞–¥' },
        '–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è':        { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –î–æ–º.ru', speed:'150 –ú–±–∏—Ç/—Å', coverage:'78%', city:'–ö–µ–º–µ—Ä–æ–≤–æ' },
        '–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è':        { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'76%', city:'–°–∞—Ä–∞—Ç–æ–≤' },
        '–¢—é–º–µ–Ω—Å–∫–∞—è':          { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°', speed:'200 –ú–±–∏—Ç/—Å', coverage:'79%', city:'–¢—é–º–µ–Ω—å' },
        '–û–º—Å–∫–∞—è':             { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'74%', city:'–û–º—Å–∫' },
        '–ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω':       { isp:'–ë–∞—à–∏–Ω—Ñ–æ—Ä–º—Å–≤—è–∑—å', speed:'150 –ú–±–∏—Ç/—Å', coverage:'80%', city:'–£—Ñ–∞' },
        '–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è':        { isp:'–ú–¢–° / –†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'200 –ú–±–∏—Ç/—Å', coverage:'83%', city:'–ß–µ–ª—è–±–∏–Ω—Å–∫' },
        '–Ø–∫—É—Ç–∏—è':             { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'50 –ú–±–∏—Ç/—Å', coverage:'30%', city:'–Ø–∫—É—Ç—Å–∫' },
        '–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π':        { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'55%', city:'–•–∞–±–∞—Ä–æ–≤—Å–∫' },
        '–ú—É—Ä–º–∞–Ω—Å–∫–∞—è':         { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'100 –ú–±–∏—Ç/—Å', coverage:'60%', city:'–ú—É—Ä–º–∞–Ω—Å–∫' },
        '–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è':      { isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º', speed:'80 –ú–±–∏—Ç/—Å', coverage:'55%', city:'–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫' },
    };

    let mapMode = 'world';
    let worldGeoData = null;
    let currentZoom = null;
    let currentSvg  = null;
    let currentProj = null;
    let currentPath = null;
    let zoomBehavior = null;

    function setMapMode(mode) {
        mapMode = mode;
        document.getElementById('btnWorld').classList.toggle('active', mode === 'world');
        document.getElementById('btnRussia').classList.toggle('active', mode === 'russia');
        document.getElementById('mapTip').style.opacity = '0';
        const ruInfo = document.getElementById('ruInfo');
        if (ruInfo) ruInfo.classList.remove('show');
        drawMap();
    }

    function mapZoom(factor) {
        if (!currentSvg || !zoomBehavior) return;
        currentSvg.transition().duration(400).call(zoomBehavior.scaleBy, factor);
    }

    function mapReset() {
        if (!currentSvg || !zoomBehavior) return;
        currentSvg.transition().duration(500).call(zoomBehavior.transform, d3.zoomIdentity);
        const ruInfo = document.getElementById('ruInfo');
        if (ruInfo) ruInfo.classList.remove('show');
    }

    function renderWorld(g, W, H, C, svg, container, tip) {
        const proj = d3.geoNaturalEarth1()
            .fitExtent([[4,4],[W-4,H-4]], {type:'Sphere'});
        const path = d3.geoPath().projection(proj);

        const grat = d3.geoGraticule().step([30,30])();
        g.append('path').datum(grat).attr('d', path)
            .attr('fill','none').attr('stroke',C.gratic)
            .attr('stroke-width',0.3).attr('opacity',0.6);

        const objKey = Object.keys(worldGeoData.objects)[0];
        const countries = topojson.feature(worldGeoData, worldGeoData.objects[objKey]);

        g.selectAll('.land').data(countries.features).enter()
            .append('path').attr('class','land')
            .attr('d', path)
            .attr('fill', f => (+f.id === 643) ? C.ruLand : C.land)
            .attr('stroke', C.border).attr('stroke-width', 0.35)
            .on('mouseover', function(e, f) { d3.select(this).attr('fill', (+f.id===643) ? '#444' : C.landH); })
            .on('mouseout',  function(e, f) { d3.select(this).attr('fill', (+f.id===643) ? C.ruLand : C.land); });

        // Threat spots
        SPOTS.forEach(([lon, lat, label, sev], idx) => {
            const pt = proj([lon, lat]);
            if (!pt) return;
            const [px, py] = pt;
            const dotR   = sev==='–ö–†–ò–¢' ? 4.5 : sev==='–í–´–°–ö' ? 3.2 : 2.2;
            const dotCol = sev==='–ö–†–ò–¢' ? C.dot : C.dotLow;
            const sg = g.append('g');

            if (sev==='–ö–†–ò–¢') {
                const rip = sg.append('circle').attr('class','spot-ripple')
                    .attr('cx',px).attr('cy',py).attr('r',4)
                    .attr('fill',C.dot).attr('opacity',0).attr('pointer-events','none');
                (function anim() {
                    rip.attr('r',4).attr('opacity',0.4)
                        .transition().duration(2000+idx*180).ease(d3.easeLinear)
                        .attr('r',18).attr('opacity',0).on('end',anim);
                })();
            }

            sg.append('circle').attr('class','spot-dot').attr('data-r',dotR)
                .attr('cx',px).attr('cy',py).attr('r',dotR)
                .attr('fill',dotCol).attr('opacity',0.95).attr('pointer-events','none');

            sg.append('circle').attr('class','spot-hit')
                .attr('cx',px).attr('cy',py).attr('r',14).attr('fill','transparent')
                .on('mousemove', function(event) {
                    const [mx,my] = d3.pointer(event, container);
                    tip.style.left=(mx+12)+'px'; tip.style.top=(my-34)+'px';
                    tip.innerHTML=`<b>${label}</b> &nbsp;${sev}`;
                    tip.style.opacity='1';
                })
                .on('mouseleave', () => { tip.style.opacity='0'; });
        });
    }

    function renderRussia(g, W, H, C, svg, container, tip) {
        const objKey = Object.keys(worldGeoData.objects)[0];
        const countries = topojson.feature(worldGeoData, worldGeoData.objects[objKey]);
        const russia = countries.features.find(f => +f.id === 643);

        if (!russia) {
            const sampleIds = countries.features.slice(0,8).map(f=>f.id).join(', ');
            svg.append('text').attr('x',W/2).attr('y',H/2-10).attr('text-anchor','middle')
                .attr('fill',C.land).attr('font-size',10).attr('font-family',"'IBM Plex Mono',monospace")
                .text('–û–±—ä–µ–∫—Ç—ã: ' + Object.keys(worldGeoData.objects).join(', '));
            svg.append('text').attr('x',W/2).attr('y',H/2+10).attr('text-anchor','middle')
                .attr('fill',C.land).attr('font-size',10).attr('font-family',"'IBM Plex Mono',monospace")
                .text('ID –ø—Ä–∏–º–µ—Ä—ã: ' + sampleIds);
            return;
        }

        // --- –ö–ª—é—á–µ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: rotate —á—Ç–æ–±—ã –†–æ—Å—Å–∏—è –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞–ª–∞—Å—å –ø–æ –∞–Ω—Ç–∏–º–µ—Ä–∏–¥–∏–∞–Ω—É ---
        // geoEquirectangular + rotate —Å–¥–≤–∏–≥–∞–µ—Ç —Ä–∞–∑—Ä—ã–≤ –∫–∞—Ä—Ç—ã –Ω–∞ -180+90=-90¬∞ –¥–æ–ª–≥–æ—Ç—ã,
        // —á—Ç–æ —É–±–∏—Ä–∞–µ—Ç –µ–≥–æ –∏–∑ –≤–∏–¥–∏–º–æ–π —á–∞—Å—Ç–∏ –†–æ—Å—Å–∏–∏ (–ß—É–∫–æ—Ç–∫–∞ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ–±—Ä–µ–∑–∞—Ç—å—Å—è)
        const proj = d3.geoEquirectangular()
            .rotate([-90, 0])
            .fitExtent([[8, 8], [W - 8, H - 8]], russia);
        const path = d3.geoPath().projection(proj);

        // –°–æ—Å–µ–¥–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã (–ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω–æ, –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
        g.selectAll('.nb')
            .data(countries.features.filter(f => +f.id !== 643))
            .enter().append('path').attr('class','nb')
            .attr('d', path)
            .attr('fill', C.land).attr('stroke', C.border)
            .attr('stroke-width', 0.25).attr('opacity', 0.28);

        // –†–æ—Å—Å–∏—è
        g.append('path').datum(russia).attr('d', path)
            .attr('fill', C.ruLand).attr('stroke', C.border).attr('stroke-width', 0.8);

        // –ü–∞–Ω–µ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        const infoPanel = document.createElement('div');
        infoPanel.id = 'ruInfo';
        infoPanel.className = 'ru-info';
        infoPanel.innerHTML = '<div class="ru-info-name">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</div>'
            + '<div style="font-size:9px;color:var(--text2)">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–æ—á–∫—É</div>';
        container.appendChild(infoPanel);

        // –ì–æ—Ä–æ–¥–∞: –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã + –º–æ–±–∏–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
        const RU_CITIES = [
            { name:'–ú–æ—Å–∫–≤–∞',          lon:37.6,   lat:55.75, isp:'–ú–¢–° / –ë–∏–ª–∞–π–Ω',        mob:'–ú–¢–°, –ë–∏–ª–∞–π–Ω, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2', speed:'500+ –ú–±–∏—Ç/—Å', cov:'99%' },
            { name:'–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', lon:30.3,   lat:59.95, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°',    mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω, –¢–µ–ª–µ2', speed:'300+ –ú–±–∏—Ç/—Å', cov:'98%' },
            { name:'–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫',     lon:82.9,   lat:54.98, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –î–æ–º.ru', mob:'–ú–¢–°, –ë–∏–ª–∞–π–Ω, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2', speed:'200 –ú–±–∏—Ç/—Å',  cov:'85%' },
            { name:'–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥',    lon:60.6,   lat:56.83, isp:'–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥-2000',   mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω', speed:'300 –ú–±–∏—Ç/—Å',  cov:'88%' },
            { name:'–ö–∞–∑–∞–Ω—å',          lon:49.1,   lat:55.78, isp:'–¢–∞—Ç—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'87%' },
            { name:'–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä',       lon:38.97,  lat:45.04, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –Æ–¢–ö',   mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'82%' },
            { name:'–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É',  lon:39.7,   lat:47.23, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –î–æ–º.ru', mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω, –¢–µ–ª–µ2', speed:'200 –ú–±–∏—Ç/—Å',  cov:'84%' },
            { name:'–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥', lon:44.0,   lat:56.33, isp:'–ú–¢–° / –≠–†-–¢–µ–ª–µ–∫–æ–º',   mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'86%' },
            { name:'–°–∞–º–∞—Ä–∞',          lon:50.15,  lat:53.2,  isp:'–ú–¢–° / –≠–†-–¢–µ–ª–µ–∫–æ–º',   mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'85%' },
            { name:'–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫',      lon:92.87,  lat:56.01, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω', speed:'100 –ú–±–∏—Ç/—Å',  cov:'60%' },
            { name:'–ö–µ–º–µ—Ä–æ–≤–æ',        lon:86.09,  lat:55.35, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –î–æ–º.ru', mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω', speed:'150 –ú–±–∏—Ç/—Å',  cov:'81%' },
            { name:'–ß–µ–ª—è–±–∏–Ω—Å–∫',       lon:61.4,   lat:55.15, isp:'–ú–¢–° / –†–æ—Å—Ç–µ–ª–µ–∫–æ–º',   mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'83%' },
            { name:'–£—Ñ–∞',             lon:55.97,  lat:54.74, isp:'–ë–∞—à–∏–Ω—Ñ–æ—Ä–º—Å–≤—è–∑—å',       mob:'–ú–¢–°, –ë–∏–ª–∞–π–Ω, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2', speed:'150 –ú–±–∏—Ç/—Å',  cov:'80%' },
            { name:'–ò—Ä–∫—É—Ç—Å–∫',         lon:104.3,  lat:52.29, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'100 –ú–±–∏—Ç/—Å',  cov:'65%' },
            { name:'–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫',     lon:131.9,  lat:43.11, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°',   mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'150 –ú–±–∏—Ç/—Å',  cov:'72%' },
            { name:'–Ø–∫—É—Ç—Å–∫',          lon:129.7,  lat:62.03, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω (—Å–ª–∞–±–æ)',        speed:'50 –ú–±–∏—Ç/—Å',   cov:'30%' },
            { name:'–ú—É—Ä–º–∞–Ω—Å–∫',        lon:33.09,  lat:68.97, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2',         speed:'100 –ú–±–∏—Ç/—Å',  cov:'60%' },
            { name:'–•–∞–±–∞—Ä–æ–≤—Å–∫',       lon:135.1,  lat:48.48, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2',         speed:'100 –ú–±–∏—Ç/—Å',  cov:'55%' },
            { name:'–¢—é–º–µ–Ω—å',          lon:68.97,  lat:57.15, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º / –ú–¢–°',   mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω, –ë–∏–ª–∞–π–Ω', speed:'200 –ú–±–∏—Ç/—Å',  cov:'79%' },
            { name:'–í–æ–ª–≥–æ–≥—Ä–∞–¥',       lon:44.5,   lat:48.71, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'100 –ú–±–∏—Ç/—Å',  cov:'75%' },
            { name:'–û–º—Å–∫',            lon:73.37,  lat:54.99, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –¢–µ–ª–µ2, –ú–µ–≥–∞–§–æ–Ω',         speed:'100 –ú–±–∏—Ç/—Å',  cov:'74%' },
            { name:'–í–æ—Ä–æ–Ω–µ–∂',         lon:39.2,   lat:51.67, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'150 –ú–±–∏—Ç/—Å',  cov:'80%' },
            { name:'–ü–µ—Ä–º—å',           lon:56.24,  lat:58.01, isp:'–ú–¢–° / –†–æ—Å—Ç–µ–ª–µ–∫–æ–º',   mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'150 –ú–±–∏—Ç/—Å',  cov:'82%' },
            { name:'–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫',     lon:40.54,  lat:64.54, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2',         speed:'80 –ú–±–∏—Ç/—Å',   cov:'55%' },
            { name:'–°–∞—Ä–∞—Ç–æ–≤',         lon:46.03,  lat:51.53, isp:'–†–æ—Å—Ç–µ–ª–µ–∫–æ–º',           mob:'–ú–¢–°, –ú–µ–≥–∞–§–æ–Ω, –¢–µ–ª–µ2, –ë–∏–ª–∞–π–Ω', speed:'100 –ú–±–∏—Ç/—Å',  cov:'76%' },
        ];

        RU_CITIES.forEach(city => {
            const pt = proj([city.lon, city.lat]);
            if (!pt) return;
            const [px, py] = pt;
            if (px < -60 || py < -60 || px > W+60 || py > H+60) return;

            const covNum = parseInt(city.cov);
            const dotCol = covNum >= 90 ? C.dot : covNum >= 70 ? '#999' : C.dotLow;
            const isBig  = city.name === '–ú–æ—Å–∫–≤–∞' || city.name === '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥';
            const dotR   = isBig ? 5 : 3.5;

            const cg = g.append('g').attr('class','city-g').style('cursor','pointer');

            if (isBig) {
                const rip = cg.append('circle').attr('class','spot-ripple')
                    .attr('cx',px).attr('cy',py).attr('r',dotR)
                    .attr('fill',C.dot).attr('opacity',0).attr('pointer-events','none');
                (function anim(){
                    rip.attr('r',dotR).attr('opacity',0.35)
                        .transition().duration(2400).ease(d3.easeLinear)
                        .attr('r',dotR*4).attr('opacity',0).on('end',anim);
                })();
            }

            cg.append('circle').attr('class','spot-dot').attr('data-r',dotR)
                .attr('cx',px).attr('cy',py).attr('r',dotR)
                .attr('fill',dotCol).attr('opacity',0.95)
                .attr('pointer-events','none');

            // –ü–æ–¥–ø–∏—Å—å ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
            cg.append('text').attr('class','region-label')
                .attr('data-bx', px + dotR + 2)
                .attr('data-by', py + 4)
                .attr('x', px + dotR + 2).attr('y', py + 4)
                .attr('fill', C.text).attr('font-size','8px')
                .attr('font-family',"'IBM Plex Mono',monospace")
                .attr('pointer-events','none')
                .text(city.name);

            cg.append('circle').attr('cx',px).attr('cy',py).attr('r',16)
                .attr('fill','transparent')
                .on('click', () => {
                    infoPanel.classList.add('show');
                    infoPanel.innerHTML =
                        '<div class="ru-info-name">' + city.name + '</div>' +
                        '<div class="ru-info-row"><span class="ru-info-key">–ò–Ω—Ç–µ—Ä–Ω–µ—Ç</span><span class="ru-info-val">' + city.isp + '</span></div>' +
                        '<div class="ru-info-row"><span class="ru-info-key">–ú–æ–±–∏–ª—å–Ω—ã–µ</span><span class="ru-info-val" style="font-size:8px">' + city.mob + '</span></div>' +
                        '<div class="ru-info-row"><span class="ru-info-key">–ú–∞–∫—Å. —Å–∫–æ—Ä–æ—Å—Ç—å</span><span class="ru-info-val">' + city.speed + '</span></div>' +
                        '<div class="ru-info-row"><span class="ru-info-key">–ü–æ–∫—Ä—ã—Ç–∏–µ</span><span class="ru-info-val">' + city.cov + '</span></div>';
                })
                .on('mousemove', function(event){
                    const [mx,my] = d3.pointer(event, container);
                    tip.style.left = (mx+14)+'px';
                    tip.style.top  = (my-44)+'px';
                    tip.innerHTML  = '<b>' + city.name + '</b><br>' + city.isp + '<br><span style="opacity:.65">' + city.mob + '</span>';
                    tip.style.opacity='1';
                })
                .on('mouseleave', () => { tip.style.opacity='0'; });
        });

        // –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ zoomBehavior (drawMap)

        // –õ–µ–≥–µ–Ω–¥–∞
        const legX = W - 138, legY = 10;
        const leg = svg.append('g').attr('transform','translate('+legX+','+legY+')');
        leg.append('rect').attr('width',126).attr('height',68)
            .attr('fill', isLight ? 'rgba(245,245,245,0.93)' : 'rgba(9,9,9,0.90)')
            .attr('stroke',C.border).attr('stroke-width',0.6);
        [[C.dot,'‚â•90% –ø–æ–∫—Ä—ã—Ç–∏–µ'],['#999','70‚Äì89%'],[C.dotLow,'<70%']].forEach(function(item,i){
            leg.append('circle').attr('cx',13).attr('cy',15+i*18).attr('r',4).attr('fill',item[0]);
            leg.append('text').attr('x',23).attr('y',19+i*18)
                .attr('fill',C.text).attr('font-size','8px')
                .attr('font-family',"'IBM Plex Mono',monospace").text(item[1]);
        });
    }

    function drawMap() {
        const container = document.getElementById('world-map');
        if (!container) return;
        const tip = document.getElementById('mapTip');

        // Clear previous
        container.querySelectorAll('svg').forEach(s => s.remove());
        const old = document.getElementById('ruInfo');
        if (old) old.remove();

        // Get real dimensions ‚Äî use getBoundingClientRect for reliability
        const rect = container.getBoundingClientRect();
        const W = Math.floor(rect.width)  || 700;
        const H = Math.floor(rect.height) || 320;
        if (W < 10) { setTimeout(drawMap, 150); return; } // not ready yet

        const light = isLight;
        const C = {
            ocean:  light ? '#e8e8e8' : '#0b0b0b',
            land:   light ? '#c4c4c4' : '#1e1e1e',
            landH:  light ? '#aaa'    : '#303030',
            ruLand: light ? '#b2b2b2' : '#252525',
            border: light ? '#aaa'    : '#2e2e2e',
            gratic: light ? '#d8d8d8' : '#141414',
            dot:    light ? '#141414' : '#e2e2e2',
            dotLow: light ? '#888'    : '#666',
            text:   light ? '#141414' : '#cccccc',
        };

        const uid = 'mc' + Date.now(); // unique clip id to avoid conflicts

        const svg = d3.select('#world-map').append('svg')
            .attr('width', W).attr('height', H)
            .style('display', 'block').style('position', 'relative');

        currentSvg = svg;

        svg.append('defs').append('clipPath').attr('id', uid)
            .append('rect').attr('width', W).attr('height', H);

        // Ocean background FIRST
        svg.append('rect').attr('width', W).attr('height', H).attr('fill', C.ocean);

        const g = svg.append('g').attr('clip-path', `url(#${uid})`);

        // Zoom
        zoomBehavior = d3.zoom()
            .scaleExtent([0.5, 20])
            .on('zoom', (event) => {
                g.attr('transform', event.transform);
                const k = event.transform.k;
                g.selectAll('.spot-ripple').attr('r', 5 / Math.sqrt(k));
                g.selectAll('.spot-dot').each(function() {
                    d3.select(this).attr('r', +d3.select(this).attr('data-r') / Math.sqrt(k));
                });
                g.selectAll('.spot-hit').attr('r', 14 / Math.sqrt(k));
                // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —à—Ä–∏—Ñ—Ç: —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑—É–º—É
                // –ü—Ä–∏ k=1‚Üí8px, k=2‚Üí6px, k=4‚Üí4px, k=8‚Üí3px (min 3px)
                const fs = Math.max(3, Math.round(8 / Math.sqrt(k)));
                g.selectAll('.region-label')
                    .attr('font-size', fs + 'px')
                    .each(function() {
                        const bx = +d3.select(this).attr('data-bx');
                        const by = +d3.select(this).attr('data-by');
                        if (bx) d3.select(this).attr('x', bx).attr('y', by);
                    });
            });
        svg.call(zoomBehavior).on('dblclick.zoom', null);

        const doRender = () => {
            if (mapMode === 'world') renderWorld(g, W, H, C, svg, container, tip);
            else renderRussia(g, W, H, C, svg, container, tip);
        };

        if (worldGeoData) {
            doRender();
        } else {
            // Show loading indicator
            svg.append('text').attr('id','map-loading')
                .attr('x', W/2).attr('y', H/2).attr('text-anchor', 'middle')
                .attr('fill', C.land).attr('font-size', 10)
                .attr('font-family', "'IBM Plex Mono',monospace")
                .text('–∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã...');

            fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json')
                .then(r => r.json())
                .then(data => {
                    worldGeoData = data;
                    svg.select('#map-loading').remove();
                    doRender();
                })
                .catch(() => {
                    svg.select('#map-loading').text('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã');
                });
        }
    }

    window.addEventListener('load', () => setTimeout(drawMap, 200));
    window.addEventListener('resize', () => { clearTimeout(window._rt); window._rt = setTimeout(drawMap, 250); });
    </script>

    <!-- ‚îÄ‚îÄ PASSWORD CHECKER MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <style>
    .pwd-overlay {
        position:fixed; inset:0; z-index:8000;
        background:rgba(0,0,0,0.85);
        display:flex; align-items:center; justify-content:center;
        opacity:0; pointer-events:none;
        transition:opacity 0.3s;
        backdrop-filter:blur(4px);
    }
    .pwd-overlay.open { opacity:1; pointer-events:all; }

    .pwd-modal {
        width:min(680px,95vw);
        background:var(--bg2);
        border:1px solid var(--border2);
        display:flex; flex-direction:column;
        transform:translateY(20px);
        transition:transform 0.3s;
        max-height:90vh; overflow-y:auto;
    }
    .pwd-overlay.open .pwd-modal { transform:translateY(0); }

    .pwd-modal-head {
        padding:14px 20px;
        border-bottom:1px solid var(--border);
        display:flex; align-items:center; justify-content:space-between;
        flex-shrink:0;
        background:var(--bg3);
    }
    .pwd-modal-title {
        font-size:9px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase;
        display:flex; align-items:center; gap:10px;
    }
    .pwd-modal-title::before { content:''; width:14px; height:1px; background:var(--text2); }
    .pwd-close {
        width:28px; height:28px; border:1px solid var(--border2);
        background:none; color:var(--text2); font-size:14px;
        cursor:none; display:flex; align-items:center; justify-content:center;
        transition:0.2s;
    }
    .pwd-close:hover { background:var(--white); color:var(--bg); border-color:var(--white); }

    .pwd-body { padding:28px 28px 32px; }

    .pwd-notice {
        font-size:9px; color:var(--text2); letter-spacing:0.08em; line-height:1.9;
        border:1px solid var(--border); padding:10px 14px; margin-bottom:24px;
    }
    .pwd-notice b { color:var(--text); }

    .pwd-input-wrap {
        border:1px solid var(--border2); display:flex; align-items:center;
        margin-bottom:20px; position:relative;
    }
    .pwd-input-wrap:focus-within { border-color:var(--text); }
    .pwd-input {
        flex:1; background:none; border:none; outline:none;
        font-family:var(--mono); font-size:14px; color:var(--text);
        padding:14px 16px; letter-spacing:0.08em;
    }
    .pwd-input::placeholder { color:var(--text2); font-size:12px; letter-spacing:0.05em; }
    .pwd-eye {
        padding:0 16px; background:none; border:none; cursor:none;
        color:var(--text2); font-size:13px; transition:color 0.2s;
    }
    .pwd-eye:hover { color:var(--text); }

    /* Strength bar */
    .pwd-bar-wrap { margin-bottom:24px; }
    .pwd-bar-label {
        display:flex; justify-content:space-between; align-items:center;
        margin-bottom:8px; font-size:9px; letter-spacing:0.25em; text-transform:uppercase;
    }
    .pwd-bar-label span { color:var(--text2); }
    .pwd-bar-score { font-family:var(--display); font-size:1.1rem; font-weight:800; }
    .pwd-bar-track {
        height:3px; background:var(--border2);
        display:flex; gap:3px;
    }
    .pwd-bar-seg {
        flex:1; height:100%; background:var(--border2); transition:background 0.4s;
    }

    /* Stats grid */
    .pwd-stats {
        display:grid; grid-template-columns:repeat(3,1fr);
        gap:1px; background:var(--border); border:1px solid var(--border);
        margin-bottom:24px;
    }
    .pwd-stat { background:var(--bg); padding:12px 14px; }
    .pwd-stat-label { font-size:8px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase; margin-bottom:5px; }
    .pwd-stat-val { font-family:var(--display); font-size:1.15rem; font-weight:800; }

    /* Issues list */
    .pwd-issues { margin-bottom:24px; }
    .pwd-issues-title { font-size:9px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase; margin-bottom:12px; }
    .pwd-issue {
        display:flex; align-items:flex-start; gap:10px;
        padding:9px 12px; border:1px solid var(--border);
        margin-bottom:6px; font-size:11px; color:var(--text2); line-height:1.5;
    }
    .pwd-issue-icon { flex-shrink:0; font-size:10px; padding-top:1px; }
    .pwd-issue.bad  { border-color:rgba(226,226,226,0.15); color:var(--text); }
    .pwd-issue.warn { border-color:var(--border); }
    .pwd-issue.good { opacity:0.5; }

    /* Crack time */
    .pwd-crack {
        border:1px solid var(--border2); padding:16px 18px;
        display:flex; align-items:center; gap:16px;
    }
    .pwd-crack-icon { font-size:18px; color:var(--text2); flex-shrink:0; }
    .pwd-crack-label { font-size:9px; letter-spacing:0.2em; color:var(--text2); margin-bottom:4px; text-transform:uppercase; }
    .pwd-crack-val { font-family:var(--display); font-size:1.2rem; font-weight:800; }

    .pwd-tips {
        margin-top:20px; padding:14px 16px;
        border:1px solid var(--border); background:var(--bg);
    }
    .pwd-tips-title { font-size:8px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase; margin-bottom:10px; }
    .pwd-tip { font-size:10px; color:var(--text2); line-height:1.8; }
    .pwd-tip::before { content:'‚Üí  '; color:var(--text); }
    </style>

    <div class="pwd-overlay" id="pwdOverlay" onclick="if(event.target===this)closePwd()">
        <div class="pwd-modal">
            <div class="pwd-modal-head">
                <div class="pwd-modal-title">–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è</div>
                <button class="pwd-close" onclick="closePwd()">‚úï</button>
            </div>
            <div class="pwd-body">
                <div class="pwd-notice">
                    <b>–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.</b> –ü–∞—Ä–æ–ª—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è <b>—Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</b> ‚Äî –Ω–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è. –°–µ—Ç—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
                </div>

                <div class="pwd-input-wrap">
                    <input class="pwd-input" id="pwdInput" type="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞..." autocomplete="off" spellcheck="false">
                    <button class="pwd-eye" id="pwdEye" onclick="toggleEye()"><i class="fas fa-eye" id="eyeIcon"></i></button>
                </div>

                <div class="pwd-bar-wrap">
                    <div class="pwd-bar-label">
                        <span>–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å</span>
                        <span class="pwd-bar-score" id="pwdScore">‚Äî</span>
                    </div>
                    <div class="pwd-bar-track" id="pwdBarTrack">
                        <div class="pwd-bar-seg" id="seg0"></div>
                        <div class="pwd-bar-seg" id="seg1"></div>
                        <div class="pwd-bar-seg" id="seg2"></div>
                        <div class="pwd-bar-seg" id="seg3"></div>
                        <div class="pwd-bar-seg" id="seg4"></div>
                    </div>
                </div>

                <div class="pwd-stats">
                    <div class="pwd-stat">
                        <div class="pwd-stat-label">–î–ª–∏–Ω–∞</div>
                        <div class="pwd-stat-val" id="statLen">0</div>
                    </div>
                    <div class="pwd-stat">
                        <div class="pwd-stat-label">–°–∏–º–≤–æ–ª–æ–≤ –≤ –Ω–∞–±–æ—Ä–µ</div>
                        <div class="pwd-stat-val" id="statCharset">0</div>
                    </div>
                    <div class="pwd-stat">
                        <div class="pwd-stat-label">–≠–Ω—Ç—Ä–æ–ø–∏—è</div>
                        <div class="pwd-stat-val" id="statEntropy">0 –±–∏—Ç</div>
                    </div>
                </div>

                <div class="pwd-issues">
                    <div class="pwd-issues-title">–ê–Ω–∞–ª–∏–∑</div>
                    <div id="pwdIssues"></div>
                </div>

                <div class="pwd-crack">
                    <div class="pwd-crack-icon"><i class="fas fa-stopwatch"></i></div>
                    <div>
                        <div class="pwd-crack-label">–í—Ä–µ–º—è –≤–∑–ª–æ–º–∞ –ø–µ—Ä–µ–±–æ—Ä–æ–º</div>
                        <div class="pwd-crack-val" id="pwdCrack">‚Äî</div>
                    </div>
                </div>

                <div class="pwd-tips" id="pwdTips" style="display:none">
                    <div class="pwd-tips-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</div>
                    <div id="pwdTipsList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
    /* ‚îÄ‚îÄ PASSWORD MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function openPwd()  { document.getElementById('pwdOverlay').classList.add('open'); document.getElementById('pwdInput').focus(); }
    function closePwd() { document.getElementById('pwdOverlay').classList.remove('open'); document.getElementById('pwdInput').value = ''; analyzePwd(''); }

    function toggleEye() {
        const inp = document.getElementById('pwdInput');
        const ico = document.getElementById('eyeIcon');
        if (inp.type === 'password') { inp.type = 'text'; ico.className = 'fas fa-eye-slash'; }
        else { inp.type = 'password'; ico.className = 'fas fa-eye'; }
    }

    // Common weak passwords
    const COMMON = new Set(['password','123456','qwerty','abc123','password1','111111','iloveyou','admin','welcome','monkey','dragon','master','letmein','login','princess','solo','sunshine','shadow','superman','michael','jessica','charlie','donald','password123','qwerty123','1234567890','passw0rd','p@ssword','–ø—Ä–∏–≤–µ—Ç','–ø–∞—Ä–æ–ª—å','–π—Ü—É–∫–µ–Ω','123456789','1234567','12345678']);

    function analyzePwd(pwd) {
        const len = pwd.length;

        // Charset analysis
        const hasLower   = /[a-z–∞-—è—ë]/.test(pwd);
        const hasUpper   = /[A-Z–ê-–Ø–Å]/.test(pwd);
        const hasDigit   = /[0-9]/.test(pwd);
        const hasSpecial = /[^a-zA-Z–∞-—è—ë–ê-–Ø–Å0-9]/.test(pwd);
        const hasSpace   = / /.test(pwd);

        let charset = 0;
        if (hasLower)   charset += 36;
        if (hasUpper)   charset += 26;
        if (hasDigit && !hasLower) charset += 10;
        if (hasSpecial) charset += 32;
        if (hasSpace)   charset += 1;
        if (charset === 0 && len > 0) charset = 10;

        const entropy = len > 0 ? Math.round(len * Math.log2(charset || 1)) : 0;

        // Score 0‚Äì5
        let score = 0;
        if (len >= 8)  score++;
        if (len >= 12) score++;
        if (len >= 16) score++;
        if (hasUpper && hasLower) score++;
        if (hasDigit)  score++;
        if (hasSpecial) score++;
        if (COMMON.has(pwd.toLowerCase())) score = Math.min(score, 1);
        if (len < 6) score = 0;
        score = Math.min(score, 5);

        // Crack time estimate (assuming 10B hashes/sec - GPU)
        const combos = Math.pow(charset || 1, len);
        const secs = combos / 1e10;
        const crackTime = formatTime(secs);

        // Score label + color
        const levels = [
            { label:'–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ —Å–ª–∞–±—ã–π', color:'#666' },
            { label:'–û—á–µ–Ω—å —Å–ª–∞–±—ã–π',      color:'#888' },
            { label:'–°–ª–∞–±—ã–π',            color:'#aaa' },
            { label:'–°—Ä–µ–¥–Ω–∏–π',           color:'#ccc' },
            { label:'–°–∏–ª—å–Ω—ã–π',           color:'#ddd' },
            { label:'–û—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π',     color:'var(--text)' },
        ];
        const lvl = levels[score];

        // Update UI
        document.getElementById('statLen').textContent     = len || '0';
        document.getElementById('statCharset').textContent = len > 0 ? charset : '0';
        document.getElementById('statEntropy').textContent = len > 0 ? entropy + ' –±–∏—Ç' : '0 –±–∏—Ç';
        document.getElementById('pwdScore').textContent    = len > 0 ? lvl.label : '‚Äî';
        document.getElementById('pwdScore').style.color    = len > 0 ? lvl.color : 'var(--text2)';
        document.getElementById('pwdCrack').textContent    = len > 0 ? crackTime : '‚Äî';

        // Bars
        for (let i = 0; i < 5; i++) {
            const seg = document.getElementById('seg' + i);
            seg.style.background = i < score ? lvl.color : 'var(--border2)';
        }

        // Issues
        const issuesEl = document.getElementById('pwdIssues');
        issuesEl.innerHTML = '';
        if (len === 0) return;

        const checks = [
            { ok: len >= 12,       bad: len < 8,        bad_msg: '–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π ‚Äî –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤',    warn_msg: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤',      good_msg: '–î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–ª–∏–Ω–∞' },
            { ok: hasUpper,        bad: false,           bad_msg: '',                                        warn_msg: '–ù–µ—Ç –∑–∞–≥–ª–∞–≤–Ω—ã—Ö –±—É–∫–≤',                     good_msg: '–ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –µ—Å—Ç—å' },
            { ok: hasLower,        bad: false,           bad_msg: '',                                        warn_msg: '–ù–µ—Ç —Å—Ç—Ä–æ—á–Ω—ã—Ö –±—É–∫–≤',                      good_msg: '–°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã –µ—Å—Ç—å' },
            { ok: hasDigit,        bad: false,           bad_msg: '',                                        warn_msg: '–ù–µ—Ç —Ü–∏—Ñ—Ä',                               good_msg: '–¶–∏—Ñ—Ä—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç' },
            { ok: hasSpecial,      bad: false,           bad_msg: '',                                        warn_msg: '–ù–µ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ (!@#$%...)',             good_msg: '–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –µ—Å—Ç—å' },
            { ok: !COMMON.has(pwd.toLowerCase()), bad: COMMON.has(pwd.toLowerCase()), bad_msg: '–í—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π', warn_msg: '', good_msg: '–ù–µ –≤—Ö–æ–¥–∏—Ç –≤ —Ç–æ–ø —Å–ª–∞–±—ã—Ö –ø–∞—Ä–æ–ª–µ–π' },
            { ok: !/(.)\1{2,}/.test(pwd), bad: /(.)\1{2,}/.test(pwd), bad_msg: '–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–∏–º–≤–æ–ª—ã (aaa, 111...)', warn_msg: '', good_msg: '–ù–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π' },
            { ok: !/^[a-z–∞-—è—ë]+$/i.test(pwd) && !/^\d+$/.test(pwd), bad: false, bad_msg: '', warn_msg: '–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤', good_msg: '–•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å–∏–º–≤–æ–ª–æ–≤' },
        ];

        checks.forEach(c => {
            if (c.bad && c.bad_msg) {
                addIssue(issuesEl, '‚úï', c.bad_msg, 'bad');
            } else if (!c.ok && c.warn_msg) {
                addIssue(issuesEl, '‚ñ≤', c.warn_msg, 'warn');
            } else if (c.ok && c.good_msg) {
                addIssue(issuesEl, '‚úì', c.good_msg, 'good');
            }
        });

        // Tips
        const tips = [];
        if (len < 12) tips.push('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–Ω–∏–º—É–º 12‚Äì16 —Å–∏–º–≤–æ–ª–æ–≤');
        if (!hasSpecial) tips.push('–î–æ–±–∞–≤—å—Ç–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã: ! @ # $ % ^ & *');
        if (!hasUpper || !hasLower) tips.push('–ß–µ—Ä–µ–¥—É–π—Ç–µ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –∏ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã');
        if (!hasDigit) tips.push('–î–æ–±–∞–≤—å—Ç–µ —Ü–∏—Ñ—Ä—ã –≤ —Å–µ—Ä–µ–¥–∏–Ω—É –ø–∞—Ä–æ–ª—è, –Ω–µ –≤ –∫–æ–Ω–µ—Ü');
        if (score < 4) tips.push('–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—å–Ω–æ–π —Ñ—Ä–∞–∑—ã –∏–∑ 4+ —Å–ª–æ–≤');
        tips.push('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π');

        const tipsEl = document.getElementById('pwdTips');
        const tipsList = document.getElementById('pwdTipsList');
        tipsEl.style.display = 'block';
        tipsList.innerHTML = tips.map(t => `<div class="pwd-tip">${t}</div>`).join('');
    }

    function addIssue(container, icon, msg, cls) {
        const div = document.createElement('div');
        div.className = `pwd-issue ${cls}`;
        div.innerHTML = `<span class="pwd-issue-icon">${icon}</span><span>${msg}</span>`;
        container.appendChild(div);
    }

    function formatTime(secs) {
        if (!isFinite(secs) || secs > 1e30) return '–¢–µ–ø–ª–æ–≤–∞—è —Å–º–µ—Ä—Ç—å –í—Å–µ–ª–µ–Ω–Ω–æ–π';
        if (secs < 0.001) return '–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ';
        if (secs < 1)     return '–ú–µ–Ω–µ–µ —Å–µ–∫—É–Ω–¥—ã';
        if (secs < 60)    return `${Math.round(secs)} —Å–µ–∫.`;
        if (secs < 3600)  return `${Math.round(secs/60)} –º–∏–Ω.`;
        if (secs < 86400) return `${Math.round(secs/3600)} —á.`;
        if (secs < 2592000)   return `${Math.round(secs/86400)} –¥–Ω–µ–π`;
        if (secs < 31536000)  return `${Math.round(secs/2592000)} –º–µ—Å—è—Ü–µ–≤`;
        if (secs < 3153600000) return `${Math.round(secs/31536000)} –ª–µ—Ç`;
        if (secs < 3.15e13)  return `${Math.round(secs/3153600000).toLocaleString()} —Ç—ã—Å. –ª–µ—Ç`;
        if (secs < 3.15e16)  return `${Math.round(secs/3.15e13).toLocaleString()} –º–ª–Ω. –ª–µ—Ç`;
        return '–¢–µ–ø–ª–æ–≤–∞—è —Å–º–µ—Ä—Ç—å –í—Å–µ–ª–µ–Ω–Ω–æ–π';
    }

    document.getElementById('pwdInput').addEventListener('input', e => analyzePwd(e.target.value));

    document.addEventListener('keydown', e => {
        if (e.key === 'Escape') { closePwd(); closeAnon(); }
    });
    </script>

    <!-- ‚îÄ‚îÄ ANONYMITY CHECKER MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <style>
    .anon-overlay {
        position:fixed; inset:0; z-index:8000;
        background:rgba(0,0,0,0.88);
        display:flex; align-items:center; justify-content:center;
        opacity:0; pointer-events:none; transition:opacity 0.3s;
        backdrop-filter:blur(4px);
    }
    .anon-overlay.open { opacity:1; pointer-events:all; }

    .anon-modal {
        width:min(720px,96vw); max-height:90vh;
        background:var(--bg2); border:1px solid var(--border2);
        display:flex; flex-direction:column; overflow-y:auto;
        transform:translateY(20px); transition:transform 0.3s;
    }
    .anon-overlay.open .anon-modal { transform:translateY(0); }

    .anon-head {
        padding:14px 20px; border-bottom:1px solid var(--border);
        display:flex; align-items:center; justify-content:space-between;
        flex-shrink:0; background:var(--bg3); position:sticky; top:0; z-index:5;
    }
    .anon-head-title {
        font-size:9px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase;
        display:flex; align-items:center; gap:10px;
    }
    .anon-head-title::before { content:''; width:14px; height:1px; background:var(--text2); }

    .anon-body { padding:24px 28px 32px; }

    .anon-notice {
        font-size:9px; color:var(--text2); letter-spacing:0.07em; line-height:1.9;
        border:1px solid var(--border); padding:10px 14px; margin-bottom:24px;
    }
    .anon-notice b { color:var(--text); }

    .anon-run-btn {
        width:100%; padding:14px; border:1px solid var(--border2);
        background:transparent; color:var(--text); font-family:var(--mono);
        font-size:10px; font-weight:700; letter-spacing:0.3em; text-transform:uppercase;
        cursor:none; transition:0.25s; margin-bottom:24px; position:relative; overflow:hidden;
    }
    .anon-run-btn::before { content:''; position:absolute; inset:0; background:var(--white); transform:translateX(-100%); transition:0.35s; }
    .anon-run-btn:hover::before { transform:translateX(0); }
    .anon-run-btn:hover { color:var(--bg); border-color:var(--white); }
    .anon-run-btn span { position:relative; z-index:1; }
    .anon-run-btn:disabled { opacity:0.4; pointer-events:none; }

    /* Score banner */
    .anon-score-banner {
        display:none; margin-bottom:24px;
        border:1px solid var(--border2); padding:20px 24px;
        display:none; align-items:center; gap:20px;
    }
    .anon-score-banner.show { display:flex; }
    .anon-score-icon { font-size:2rem; flex-shrink:0; }
    .anon-score-label { font-size:9px; letter-spacing:0.3em; text-transform:uppercase; color:var(--text2); margin-bottom:6px; }
    .anon-score-val { font-family:var(--display); font-size:1.5rem; font-weight:800; }

    /* Checks grid */
    .anon-checks { display:flex; flex-direction:column; gap:1px; background:var(--border); border:1px solid var(--border); margin-bottom:20px; }
    .anon-check {
        background:var(--bg); padding:14px 18px;
        display:flex; align-items:center; gap:14px;
    }
    .anon-check-icon { width:28px; height:28px; flex-shrink:0; border:1px solid var(--border2); display:flex; align-items:center; justify-content:center; font-size:11px; }
    .anon-check-icon.ok   { color:var(--text); border-color:var(--border2); }
    .anon-check-icon.warn { color:var(--text2); border-color:var(--border); }
    .anon-check-icon.bad  { color:var(--text); border-color:rgba(226,226,226,0.3); }
    .anon-check-icon.spin { animation: anon-spin 1s linear infinite; }
    @keyframes anon-spin { to { transform:rotate(360deg); } }
    .anon-check-info { flex:1; }
    .anon-check-name { font-size:10px; font-weight:700; letter-spacing:0.1em; margin-bottom:3px; }
    .anon-check-desc { font-size:9px; color:var(--text2); letter-spacing:0.05em; line-height:1.5; }
    .anon-check-result { font-size:9px; font-family:var(--mono); color:var(--text2); text-align:right; max-width:200px; word-break:break-all; line-height:1.5; }

    /* IP details */
    .anon-ip-grid { display:grid; grid-template-columns:1fr 1fr; gap:1px; background:var(--border); border:1px solid var(--border); }
    .anon-ip-cell { background:var(--bg); padding:12px 16px; }
    .anon-ip-label { font-size:8px; letter-spacing:0.3em; text-transform:uppercase; color:var(--text2); margin-bottom:5px; }
    .anon-ip-val   { font-size:11px; color:var(--text); word-break:break-all; }

    .anon-webrtc-note {
        margin-top:16px; padding:12px 16px; border:1px solid var(--border);
        font-size:9px; color:var(--text2); line-height:1.8;
    }
    .anon-webrtc-note b { color:var(--text); }
    </style>

    <div class="anon-overlay" id="anonOverlay" onclick="if(event.target===this)closeAnon()">
        <div class="anon-modal">
            <div class="anon-head">
                <div class="anon-head-title">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏</div>
                <button class="pwd-close" onclick="closeAnon()">‚úï</button>
            </div>
            <div class="anon-body">
                <div class="anon-notice">
                    <b>–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:</b> —Ä–µ–∞–ª—å–Ω—ã–π IP-–∞–¥—Ä–µ—Å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN/–ø—Ä–æ–∫—Å–∏/Tor, —É—Ç–µ—á–∫–∞ DNS, —É—Ç–µ—á–∫–∞ IP —á–µ—Ä–µ–∑ WebRTC. –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö API –∏ <b>–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è</b>.
                </div>

                <button class="anon-run-btn" id="anonRunBtn" onclick="runAnonCheck()">
                    <span>‚ü≥ &nbsp;–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</span>
                </button>

                <div class="anon-score-banner" id="anonBanner">
                    <div class="anon-score-icon" id="anonBannerIcon">‚Äî</div>
                    <div>
                        <div class="anon-score-label">–£—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏</div>
                        <div class="anon-score-val" id="anonBannerVal">‚Äî</div>
                    </div>
                </div>

                <div class="anon-checks" id="anonChecks">
                    <!-- populated by JS -->
                </div>

                <div id="anonIpGrid" style="display:none">
                    <div style="font-size:9px;letter-spacing:0.35em;text-transform:uppercase;color:var(--text2);margin-bottom:10px;">// –î–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ IP</div>
                    <div class="anon-ip-grid" id="anonIpGridInner"></div>
                </div>

                <div class="anon-webrtc-note" id="anonWebRtcNote" style="display:none"></div>
            </div>
        </div>
    </div>

    <script>
    /* ‚îÄ‚îÄ ANONYMITY MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    function openAnon() {
        document.getElementById('anonOverlay').classList.add('open');
        initAnonChecks();
    }
    function closeAnon() {
        document.getElementById('anonOverlay').classList.remove('open');
    }

    const CHECKS_DEF = [
        { id:'ip',      name:'IP-–∞–¥—Ä–µ—Å',           desc:'–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—É–±–ª–∏—á–Ω–æ–≥–æ IP' },
        { id:'vpn',     name:'VPN / –ü—Ä–æ–∫—Å–∏',        desc:'–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±–∞–∑—ã –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö IP' },
        { id:'tor',     name:'Tor-—Å–µ—Ç—å',             desc:'–Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ IP –≤—ã—Ö–æ–¥–Ω—ã–º —É–∑–ª–æ–º Tor' },
        { id:'dns',     name:'–£—Ç–µ—á–∫–∞ DNS',           desc:'–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ DNS-—Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –≤–∞—à–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º' },
        { id:'webrtc',  name:'–£—Ç–µ—á–∫–∞ WebRTC',        desc:'–†–∞—Å–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä' },
        { id:'timezone',name:'–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å',         desc:'–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∏ IP-–≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏' },
    ];

    function initAnonChecks() {
        const el = document.getElementById('anonChecks');
        el.innerHTML = '';
        CHECKS_DEF.forEach(c => {
            el.innerHTML += `
            <div class="anon-check" id="chk-${c.id}">
                <div class="anon-check-icon" id="icon-${c.id}">‚óã</div>
                <div class="anon-check-info">
                    <div class="anon-check-name">${c.name}</div>
                    <div class="anon-check-desc">${c.desc}</div>
                </div>
                <div class="anon-check-result" id="res-${c.id}">‚Äî</div>
            </div>`;
        });
        document.getElementById('anonBanner').classList.remove('show');
        document.getElementById('anonIpGrid').style.display = 'none';
        document.getElementById('anonWebRtcNote').style.display = 'none';
    }

    function setCheck(id, status, result) {
        const icon = document.getElementById('icon-' + id);
        const res  = document.getElementById('res-'  + id);
        icon.classList.remove('spin');
        if (status === 'ok')   { icon.textContent = '‚úì'; icon.className = 'anon-check-icon ok'; }
        if (status === 'warn') { icon.textContent = '‚ñ≤'; icon.className = 'anon-check-icon warn'; }
        if (status === 'bad')  { icon.textContent = '‚úï'; icon.className = 'anon-check-icon bad'; }
        res.innerHTML = result;
    }

    function setLoading(id) {
        const icon = document.getElementById('icon-' + id);
        icon.textContent = '‚óå';
        icon.className = 'anon-check-icon spin';
        document.getElementById('res-' + id).textContent = '–ø—Ä–æ–≤–µ—Ä–∫–∞...';
    }

    async function runAnonCheck() {
        const btn = document.getElementById('anonRunBtn');
        btn.disabled = true;
        btn.querySelector('span').textContent = '‚óå  –ü—Ä–æ–≤–µ—Ä–∫–∞...';
        initAnonChecks();

        let score = 0; // 0=–ø–ª–æ—Ö–æ, higher=better
        let ipData = null;

        // 1. IP + geo + VPN/Proxy/Tor detection
        CHECKS_DEF.forEach(c => setLoading(c.id));

        try {
            const r = await fetch('https://ipapi.co/json/');
            ipData = await r.json();

            // IP check
            setCheck('ip', 'warn', `<b>${ipData.ip}</b><br>${ipData.city || '‚Äî'}, ${ipData.country_name || '‚Äî'}`);

            // VPN/Proxy ‚Äî use ip-api for more detail
            try {
                const r2 = await fetch(`https://ip-api.com/json/${ipData.ip}?fields=proxy,hosting,mobile`);
                const d2 = await r2.json();
                const isProxy = d2.proxy || d2.hosting;
                if (isProxy) {
                    setCheck('vpn', 'ok', 'VPN / —Ö–æ—Å—Ç–∏–Ω–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω ‚úì');
                    score += 2;
                } else {
                    setCheck('vpn', 'bad', '–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω ‚Äî IP —Ä–∞—Å–∫—Ä—ã—Ç');
                }
            } catch {
                setCheck('vpn', 'warn', '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å');
            }

            // Tor check
            try {
                const torR = await fetch(`https://check.torproject.org/api/ip`);
                const torD = await torR.json();
                if (torD.IsTor) {
                    setCheck('tor', 'ok', 'Tor-—Å–µ—Ç—å –∞–∫—Ç–∏–≤–Ω–∞ ‚úì');
                    score += 3;
                } else {
                    setCheck('tor', 'bad', 'Tor –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è');
                }
            } catch {
                setCheck('tor', 'warn', '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å');
            }

            // DNS leak check
            try {
                const dnsR = await fetch('https://ipapi.co/json/');
                const dnsD = await dnsR.json();
                const ipCountry = dnsD.country_code;
                const tzCountry = Intl.DateTimeFormat().resolvedOptions().timeZone;
                // Simple heuristic: if timezone doesn't match IP country
                const tzMismatch = !tzCountry.toLowerCase().includes(ipCountry?.toLowerCase() || 'xx');
                if (tzMismatch) {
                    setCheck('dns', 'ok', 'DNS –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π ‚úì');
                    score += 1;
                } else {
                    setCheck('dns', 'warn', 'DNS –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º');
                }
            } catch {
                setCheck('dns', 'warn', '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å');
            }

            // Timezone check
            const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const ipCountry = ipData?.country_code || '';
            const tzMismatch = ipData && !tz.toLowerCase().includes(ipData.country_code?.toLowerCase());
            if (tzMismatch) {
                setCheck('timezone', 'ok', `${tz}<br>–ù–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å IP ‚úì`);
                score += 1;
            } else {
                setCheck('timezone', 'warn', `${tz}<br>–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å IP-—Ä–µ–≥–∏–æ–Ω–æ–º`);
            }

            // Show IP details
            if (ipData) {
                const grid = document.getElementById('anonIpGridInner');
                const fields = [
                    ['IP-–∞–¥—Ä–µ—Å', ipData.ip],
                    ['–°—Ç—Ä–∞–Ω–∞', `${ipData.country_name} (${ipData.country_code})`],
                    ['–ì–æ—Ä–æ–¥', ipData.city || '‚Äî'],
                    ['–ü—Ä–æ–≤–∞–π–¥–µ—Ä', ipData.org || '‚Äî'],
                    ['–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å', ipData.timezone || '‚Äî'],
                    ['–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã', `${ipData.latitude}, ${ipData.longitude}`],
                ];
                grid.innerHTML = fields.map(([l,v]) => `
                    <div class="anon-ip-cell">
                        <div class="anon-ip-label">${l}</div>
                        <div class="anon-ip-val">${v || '‚Äî'}</div>
                    </div>`).join('');
                document.getElementById('anonIpGrid').style.display = 'block';
            }

        } catch(e) {
            setCheck('ip',  'warn', '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞');
            setCheck('vpn', 'warn', '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞');
            setCheck('tor', 'warn', '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞');
            setCheck('dns', 'warn', '–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞');
            setCheck('timezone', 'warn', '–û—à–∏–±–∫–∞');
        }

        // WebRTC leak detection
        detectWebRTC();

        // Score banner
        const banner = document.getElementById('anonBanner');
        banner.classList.add('show');
        let label, icon;
        if (score >= 5)      { label = '–í—ã—Å–æ–∫–∞—è'; icon = 'üõ°'; }
        else if (score >= 3) { label = '–°—Ä–µ–¥–Ω—è—è'; icon = '‚ö†'; }
        else if (score >= 1) { label = '–ù–∏–∑–∫–∞—è';  icon = '‚ñ≤'; }
        else                 { label = '–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç'; icon = '‚úï'; }
        document.getElementById('anonBannerIcon').textContent = icon;
        document.getElementById('anonBannerVal').textContent  = label;

        btn.disabled = false;
        btn.querySelector('span').textContent = '‚ü≥  –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É';
    }

    function detectWebRTC() {
        const noteEl = document.getElementById('anonWebRtcNote');
        noteEl.style.display = 'block';

        if (!window.RTCPeerConnection) {
            setCheck('webrtc', 'ok', 'WebRTC –æ—Ç–∫–ª—é—á—ë–Ω ‚úì');
            noteEl.innerHTML = '<b>WebRTC:</b> –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª—é—á—ë–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –£—Ç–µ—á–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.';
            return;
        }

        setLoading('webrtc');
        const ips = new Set();
        const pc = new RTCPeerConnection({ iceServers: [{ urls: 'stun:stun.l.google.com:19302' }] });
        pc.createDataChannel('');
        pc.createOffer().then(o => pc.setLocalDescription(o));
        pc.onicecandidate = e => {
            if (!e || !e.candidate) {
                pc.close();
                const localIps = [...ips].filter(ip => !ip.startsWith('192.168') && !ip.startsWith('10.') && !ip.startsWith('172.'));
                if (localIps.length > 0) {
                    setCheck('webrtc', 'bad', `–£—Ç–µ—á–∫–∞! ${localIps.join(', ')}`);
                    noteEl.innerHTML = `<b>–£—Ç–µ—á–∫–∞ WebRTC –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞!</b> –ë—Ä–∞—É–∑–µ—Ä —Ä–∞—Å–∫—Ä—ã–ª IP: <b>${localIps.join(', ')}</b>. –û—Ç–∫–ª—é—á–∏—Ç–µ WebRTC —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (uBlock Origin / WebRTC Control) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Firefox —Å <code>media.peerconnection.enabled = false</code>.`;
                } else if ([...ips].length > 0) {
                    setCheck('webrtc', 'warn', '–¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–π IP');
                    noteEl.innerHTML = `WebRTC —Ä–∞—Å–∫—Ä—ã–ª —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–π IP (${[...ips].join(', ')}). –ü—É–±–ª–∏—á–Ω—ã–π IP –Ω–µ —É—Ç—ë–∫.`;
                } else {
                    setCheck('webrtc', 'ok', '–£—Ç–µ—á–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ ‚úì');
                    noteEl.innerHTML = 'WebRTC –Ω–µ —Ä–∞—Å–∫—Ä—ã–ª –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å.';
                }
                return;
            }
            const m = e.candidate.candidate.match(/(\d+\.\d+\.\d+\.\d+)/g);
            if (m) m.forEach(ip => ips.add(ip));
        };
        setTimeout(() => {
            if ([...ips].size === 0) {
                setCheck('webrtc', 'ok', '–£—Ç–µ—á–∫–∏ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ ‚úì');
                noteEl.innerHTML = 'WebRTC –Ω–µ —Ä–∞—Å–∫—Ä—ã–ª –ø—É–±–ª–∏—á–Ω—ã–π IP-–∞–¥—Ä–µ—Å.';
            }
        }, 5000);
    }
    </script>

    <!-- ‚îÄ‚îÄ LINK CHECKER MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <style>
    .link-overlay {
        position:fixed; inset:0; z-index:8000;
        background:rgba(0,0,0,0.88);
        display:flex; align-items:center; justify-content:center;
        opacity:0; pointer-events:none; transition:opacity 0.3s;
        backdrop-filter:blur(4px);
    }
    .link-overlay.open { opacity:1; pointer-events:all; }
    .link-modal {
        width:min(680px,96vw); max-height:90vh;
        background:var(--bg2); border:1px solid var(--border2);
        display:flex; flex-direction:column; overflow-y:auto;
        transform:translateY(20px); transition:transform 0.3s;
    }
    .link-overlay.open .link-modal { transform:translateY(0); }
    .link-head {
        padding:14px 20px; border-bottom:1px solid var(--border);
        display:flex; align-items:center; justify-content:space-between;
        flex-shrink:0; background:var(--bg3); position:sticky; top:0; z-index:5;
    }
    .link-head-title {
        font-size:9px; letter-spacing:0.3em; color:var(--text2); text-transform:uppercase;
        display:flex; align-items:center; gap:10px;
    }
    .link-head-title::before { content:''; width:14px; height:1px; background:var(--text2); }
    .link-body { padding:24px 28px 32px; }
    .link-notice {
        font-size:9px; color:var(--text2); letter-spacing:0.07em; line-height:1.9;
        border:1px solid var(--border); padding:10px 14px; margin-bottom:20px;
    }
    .link-notice b { color:var(--text); }
    .link-input-row {
        display:flex; margin-bottom:20px; border:1px solid var(--border2);
    }
    .link-input-row:focus-within { border-color:var(--text); }
    .link-input {
        flex:1; background:none; border:none; outline:none;
        font-family:var(--mono); font-size:12px; color:var(--text);
        padding:13px 16px; letter-spacing:0.04em;
    }
    .link-input::placeholder { color:var(--text2); }
    .link-go-btn {
        padding:0 20px; background:transparent; border:none;
        border-left:1px solid var(--border2); color:var(--text2);
        font-family:var(--mono); font-size:9px; font-weight:700;
        letter-spacing:0.25em; text-transform:uppercase; cursor:none; transition:0.2s;
        white-space:nowrap;
    }
    .link-go-btn:hover { background:var(--white); color:var(--bg); }

    .link-verdict {
        display:none; margin-bottom:20px;
        border:1px solid var(--border2); padding:18px 22px;
        align-items:center; gap:18px;
    }
    .link-verdict.show { display:flex; }
    .link-verdict-icon { font-size:1.6rem; flex-shrink:0; }
    .link-verdict-label { font-size:8px; letter-spacing:0.3em; text-transform:uppercase; color:var(--text2); margin-bottom:5px; }
    .link-verdict-val { font-family:var(--display); font-size:1.3rem; font-weight:800; }

    .link-checks { display:flex; flex-direction:column; gap:1px; background:var(--border); border:1px solid var(--border); margin-bottom:18px; }
    .link-chk { background:var(--bg); padding:13px 18px; display:flex; align-items:center; gap:14px; }
    .link-chk-icon { width:26px; height:26px; flex-shrink:0; border:1px solid var(--border2); display:flex; align-items:center; justify-content:center; font-size:10px; }
    .lc-ok   { color:var(--text);  border-color:var(--border2); }
    .lc-warn { color:var(--text2); border-color:var(--border); }
    .lc-bad  { color:var(--text);  border-color:rgba(226,226,226,0.3); }
    .lc-spin { animation:anon-spin 1s linear infinite; }
    .link-chk-info { flex:1; }
    .link-chk-name { font-size:10px; font-weight:700; letter-spacing:0.08em; margin-bottom:2px; }
    .link-chk-desc { font-size:9px; color:var(--text2); line-height:1.5; }
    .link-chk-res  { font-size:9px; font-family:var(--mono); color:var(--text2); text-align:right; max-width:220px; word-break:break-all; line-height:1.5; }

    .link-breakdown { display:none; border:1px solid var(--border); background:var(--bg); padding:16px 18px; margin-bottom:18px; }
    .link-breakdown.show { display:block; }
    .link-bd-title { font-size:8px; letter-spacing:0.35em; text-transform:uppercase; color:var(--text2); margin-bottom:12px; }
    .link-bd-row { display:flex; gap:12px; font-size:10px; padding:6px 0; border-bottom:1px solid var(--border); }
    .link-bd-row:last-child { border:none; }
    .link-bd-key { color:var(--text2); flex-shrink:0; min-width:110px; }
    .link-bd-val { color:var(--text); word-break:break-all; }

    .link-open-btn {
        display:none; width:100%; padding:13px; border:1px solid var(--border2);
        background:transparent; color:var(--text2); font-family:var(--mono);
        font-size:9px; font-weight:700; letter-spacing:0.25em; text-transform:uppercase;
        cursor:none; transition:0.25s;
    }
    .link-open-btn.show { display:block; }
    .link-open-btn:hover { background:var(--bg3); color:var(--text); border-color:var(--text); }
    </style>

    <div class="link-overlay" id="linkOverlay" onclick="if(event.target===this)closeLink()">
        <div class="link-modal">
            <div class="link-head">
                <div class="link-head-title">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–∫–∏ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥</div>
                <button class="pwd-close" onclick="closeLink()">‚úï</button>
            </div>
            <div class="link-body">
                <div class="link-notice">
                    <b>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b> —Å—Å—ã–ª–∫–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ URL, –ø—Ä–æ—Ç–æ–∫–æ–ª, –¥–æ–º–µ–Ω, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞. <b>–†–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è</b> ‚Äî –≤—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
                </div>
                <div class="link-input-row">
                    <input class="link-input" id="linkInput" type="text" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏..." autocomplete="off" spellcheck="false">
                    <button class="link-go-btn" onclick="runLinkCheck()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                </div>
                <div class="link-verdict" id="linkVerdict">
                    <div class="link-verdict-icon" id="linkVerdictIcon">‚Äî</div>
                    <div>
                        <div class="link-verdict-label">–í–µ—Ä–¥–∏–∫—Ç</div>
                        <div class="link-verdict-val" id="linkVerdictVal">‚Äî</div>
                    </div>
                </div>
                <div class="link-checks" id="linkChecks"></div>
                <div class="link-breakdown" id="linkBreakdown">
                    <div class="link-bd-title">// –†–∞–∑–±–æ—Ä URL</div>
                    <div id="linkBdRows"></div>
                </div>
                <button class="link-open-btn" id="linkOpenBtn">‚ö† –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É (–Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫)</button>
            </div>
        </div>
    </div>

    <script>
    function openLink()  { document.getElementById('linkOverlay').classList.add('open'); document.getElementById('linkInput').focus(); }
    function closeLink() { document.getElementById('linkOverlay').classList.remove('open'); }

    const SUSPICIOUS_KEYWORDS = ['login','signin','verify','secure','account','update','confirm','banking','paypal','password','credential','authorize','wallet','recover','reset','support','helpdesk','alert','suspended','unusual','activity'];
    const PHISHING_TLDS = ['.xyz','.top','.click','.link','.live','.online','.site','.website','.fun','.icu','.cam'];
    const SAFE_DOMAINS  = ['google.com','youtube.com','github.com','microsoft.com','apple.com','amazon.com','wikipedia.org','telegram.org','t.me','vk.com','yandex.ru','mail.ru','gosuslugi.ru','sberbank.ru'];

    const LINK_CHECKS_DEF = [
        { id:'protocol', name:'–ü—Ä–æ—Ç–æ–∫–æ–ª',               desc:'HTTPS –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è' },
        { id:'domain',   name:'–î–æ–º–µ–Ω',                  desc:'–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–æ–º–µ–Ω–∞' },
        { id:'redirect', name:'–†–µ–¥–∏—Ä–µ–∫—Ç—ã / —É–∫–æ—Ä–æ—á–µ–Ω–∏–µ', desc:'URL-—à–æ—Ä—Ç–µ—Ä—ã –º–æ–≥—É—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π –∞–¥—Ä–µ—Å' },
        { id:'keywords', name:'–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞',   desc:'–§–∏—à–∏–Ω–≥–æ–≤—ã–µ —Å–∞–π—Ç—ã –∏–º–∏—Ç–∏—Ä—É—é—Ç –±–∞–Ω–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã' },
        { id:'tld',      name:'–î–æ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ (TLD)',    desc:'–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–æ–Ω—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã —É –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤' },
        { id:'length',   name:'–î–ª–∏–Ω–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å URL',  desc:'–ß—Ä–µ–∑–º–µ—Ä–Ω–æ –¥–ª–∏–Ω–Ω—ã–µ URL —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±–º–∞–Ω–∞' },
        { id:'ip',       name:'IP –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–∞',       desc:'–°—Å—ã–ª–∫–∏ –Ω–∞ IP-–∞–¥—Ä–µ—Å–∞ —Ä–µ–¥–∫–æ –±—ã–≤–∞—é—Ç –ª–µ–≥–∏—Ç–∏–º–Ω—ã–º–∏' },
    ];

    function initLinkChecks() {
        const el = document.getElementById('linkChecks');
        el.innerHTML = '';
        LINK_CHECKS_DEF.forEach(c => {
            el.innerHTML += `<div class="link-chk" id="lchk-${c.id}">
                <div class="link-chk-icon" id="licon-${c.id}">‚óã</div>
                <div class="link-chk-info">
                    <div class="link-chk-name">${c.name}</div>
                    <div class="link-chk-desc">${c.desc}</div>
                </div>
                <div class="link-chk-res" id="lres-${c.id}">‚Äî</div>
            </div>`;
        });
        document.getElementById('linkVerdict').classList.remove('show');
        document.getElementById('linkBreakdown').classList.remove('show');
        document.getElementById('linkOpenBtn').classList.remove('show');
    }

    function setLChk(id, status, result) {
        const icon = document.getElementById('licon-'+id);
        const res  = document.getElementById('lres-'+id);
        icon.classList.remove('lc-spin');
        if (status==='ok')   { icon.textContent='‚úì'; icon.className='link-chk-icon lc-ok'; }
        if (status==='warn') { icon.textContent='‚ñ≤'; icon.className='link-chk-icon lc-warn'; }
        if (status==='bad')  { icon.textContent='‚úï'; icon.className='link-chk-icon lc-bad'; }
        res.innerHTML = result;
    }

    function runLinkCheck() {
        let raw = document.getElementById('linkInput').value.trim();
        if (!raw) return;
        if (!/^https?:\/\//i.test(raw)) raw = 'https://' + raw;

        initLinkChecks();
        LINK_CHECKS_DEF.forEach(c => {
            const ic = document.getElementById('licon-'+c.id);
            ic.textContent='‚óå'; ic.className='link-chk-icon lc-spin';
            document.getElementById('lres-'+c.id).textContent='–∞–Ω–∞–ª–∏–∑...';
        });

        let url;
        try { url = new URL(raw); }
        catch(e) { LINK_CHECKS_DEF.forEach(c => setLChk(c.id,'bad','–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π URL')); return; }

        let risk = 0;

        setTimeout(() => {
            if (url.protocol==='https:') { setLChk('protocol','ok','HTTPS ‚úì'); }
            else { setLChk('protocol','bad','HTTP ‚Äî –Ω–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è'); risk+=2; }
        }, 150);

        setTimeout(() => {
            const host = url.hostname.toLowerCase();
            const isSafe = SAFE_DOMAINS.some(d => host===d || host.endsWith('.'+d));
            const hasNum = /\d{5,}/.test(host);
            const manyDots = (host.match(/\./g)||[]).length > 3;
            if (isSafe)            { setLChk('domain','ok',`–ò–∑–≤–µ—Å—Ç–Ω—ã–π –¥–æ–º–µ–Ω ‚úì<br>${host}`); }
            else if (hasNum||manyDots) { setLChk('domain','bad',`–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–º–µ–Ω<br>${host}`); risk+=3; }
            else                   { setLChk('domain','warn',host); }
        }, 300);

        setTimeout(() => {
            const shorts = ['bit.ly','tinyurl.com','t.co','goo.gl','ow.ly','cutt.ly','rb.gy','is.gd','tiny.cc','clck.ru'];
            const isShort = shorts.some(s => url.hostname.includes(s));
            if (isShort) { setLChk('redirect','bad','URL-—à–æ—Ä—Ç–µ—Ä –æ–±–Ω–∞—Ä—É–∂–µ–Ω'); risk+=2; }
            else         { setLChk('redirect','ok','–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ ‚úì'); }
        }, 450);

        setTimeout(() => {
            const full = raw.toLowerCase();
            const found = SUSPICIOUS_KEYWORDS.filter(k => full.includes(k));
            if (found.length>=2)      { setLChk('keywords','bad',`–ù–∞–π–¥–µ–Ω–æ: ${found.slice(0,3).join(', ')}`); risk+=2; }
            else if (found.length===1){ setLChk('keywords','warn',`–°–ª–æ–≤–æ: ${found[0]}`); risk+=1; }
            else                      { setLChk('keywords','ok','–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤ –Ω–µ—Ç ‚úì'); }
        }, 600);

        setTimeout(() => {
            const tld = '.'+url.hostname.split('.').pop().toLowerCase();
            if (PHISHING_TLDS.includes(tld))         { setLChk('tld','bad',`–ó–æ–Ω–∞ ${tld} ‚Äî —á–∞—Å—Ç–æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∞—è`); risk+=2; }
            else if (['.ru','.com','.org','.net','.io','.—Ä—Ñ','.gov'].includes(tld)) { setLChk('tld','ok',`${tld} ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞ ‚úì`); }
            else                                     { setLChk('tld','warn',`${tld} ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞`); risk+=1; }
        }, 750);

        setTimeout(() => {
            const len = raw.length;
            if (len>200)      { setLChk('length','bad',`${len} —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π`); risk+=2; }
            else if (len>100) { setLChk('length','warn',`${len} —Å–∏–º–≤–æ–ª–æ–≤ ‚Äî –¥–ª–∏–Ω–Ω—ã–π`); risk+=1; }
            else              { setLChk('length','ok',`${len} —Å–∏–º–≤–æ–ª–æ–≤ ‚úì`); }
        }, 900);

        setTimeout(() => {
            const isIP = /^(\d{1,3}\.){3}\d{1,3}$/.test(url.hostname);
            if (isIP) { setLChk('ip','bad',`IP: ${url.hostname} ‚Äî –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ`); risk+=3; }
            else      { setLChk('ip','ok','–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è ‚úì'); }
        }, 1050);

        setTimeout(() => {
            const verdict = document.getElementById('linkVerdict');
            verdict.classList.add('show');
            let label, icon;
            if (risk===0)      { label='–ë–µ–∑–æ–ø–∞—Å–Ω–æ';              icon='‚úì'; }
            else if (risk<=2)  { label='–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';            icon='‚ñ≤'; }
            else if (risk<=5)  { label='–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';           icon='‚ö†'; }
            else               { label='–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ ‚Äî –æ–ø–∞—Å–Ω–æ!'; icon='‚úï'; }
            document.getElementById('linkVerdictIcon').textContent = icon;
            document.getElementById('linkVerdictVal').textContent  = label;

            const bd = document.getElementById('linkBreakdown');
            bd.classList.add('show');
            const params = [...url.searchParams.entries()].map(([k,v])=>`${k}=${v}`).join(', ')||'‚Äî';
            document.getElementById('linkBdRows').innerHTML = [
                ['–ü–æ–ª–Ω—ã–π URL',   raw],
                ['–ü—Ä–æ—Ç–æ–∫–æ–ª',     url.protocol],
                ['–î–æ–º–µ–Ω',        url.hostname],
                ['–ü—É—Ç—å',         url.pathname||'/'],
                ['–ü–∞—Ä–∞–º–µ—Ç—Ä—ã',    params],
                ['–Ø–∫–æ—Ä—å (#)',    url.hash||'‚Äî'],
            ].map(([k,v])=>`<div class="link-bd-row"><span class="link-bd-key">${k}</span><span class="link-bd-val">${v}</span></div>`).join('');

            const ob = document.getElementById('linkOpenBtn');
            ob.classList.add('show');
            ob.onclick = () => window.open(raw,'_blank','noopener,noreferrer');
        }, 1250);
    }

    document.getElementById('linkInput').addEventListener('keydown', e => {
        if (e.key==='Enter') runLinkCheck();
    });

    document.addEventListener('keydown', e => {
        if (e.key==='Escape') { closePwd(); closeAnon(); closeLink(); }
    });
    </script>
</body>
</html>
